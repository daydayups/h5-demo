/*
 * hj_quicklogin.js 1.0.3 2015-06-17 16:14:14
 * Copyright (C) 2014 Hujiang.com, http://www.hujiang.com 
 */
var hui = {};
hui.runWithoutStrict = function (a, b) {
  return new Function("data", "with(data){return " + a + ";}")(b)
}, function (a) {
  var b = {on: "bind", off: "unbind", prop: "attr"};
  for (var c in b)a.fn[c] || (a.fn[c] = a.fn[b[c]])
}(jQuery), hui.glob_vals = {RESOURCE_HOST: "//captcha.hujiang.com", API_HOST: "http://login"}, function (a) {
  var b = document.getElementsByTagName("head")[0], c = document.createElement("link");
  c.href = a, c.rel = "stylesheet", c.type = "text/css", b.appendChild(c)
}("../css/hj_quicklogin.1.0.3.css"), hui.require = function (a, b) {
  if (a && "string" == typeof a) {
    if ("function" == typeof b && (b = {callback: b}), !hui.require.checkLoaded(a, b)) {
      hui.require.loaded.push(a);
      var c = hui.require.parseModuleUrl(a, b, "js"), d = document.createElement("script");
      d.src = c + (~c.indexOf("?") ? "&" : "?") + "random=" + String(Math.random()).substr(5, 4), document.getElementsByTagName("head")[0].appendChild(d)
    }
    b && b.callback && hui.define("", [a], b.callback)
  }
}, hui.require.loaded = [], hui.require.checkLoaded = function (a) {
  var b = !1;
  if (a = a.split("@")[0].replace("./", ""), hui.define && hui.define.modules)for (var c = 0, d = hui.define.modules.length; d > c; c++)if (hui.define.modules[c] && hui.define.modules[c].name === a) {
    b = !0;
    break
  }
  if (!b)for (var c = 0, d = hui.require.loaded.length; d > c; c++)if (hui.require.loaded[c].split("@")[0].replace("./", "") === a) {
    b = !0;
    break
  }
  return b
}, hui.require.parseModuleUrl = function (a, b, c) {
  var d, e = a.replace("./", ""), f = a.split("@")[0].replace("./", "") + "." + c;
  return d = 0 === a.indexOf("./") ? (b && b.source ? b.source : "./") + "hui_modules/" + e + "/" + (b && b.fileName ? b.fileName : f) : window.location.protocol + "//" + window.location.host + "/hui_modules/" + e + "/" + (b && b.fileName ? b.fileName : f)
}, hui.define = function (a, b, c) {
  a = "string" != typeof a ? "" : String(a).toLowerCase(), b = b && b.splice && b.length ? b : [];
  for (var d = [], e = 0, f = b.length; f > e; e++)d.push(String(b[e]).toLowerCase());
  hui.define.modules = hui.define.modules || [];
  var g = {name: a, depend: b, left: d, todo: c, loaded: !1, exports: {}};
  if (hui.define.modules.push(g), hui.define.checkDepend(), hui.define.autoload !== !1)for (var e = 0, f = g.left.length; f > e; e++)-1 == g.left[e].indexOf("#/") && hui.require(g.left[e])
}, hui.define.autoload = !1, hui.define.loaded = [], hui.define.checkDepend = function () {
  hui.define.modules = hui.define.modules || [];
  for (var a = hui.define.modules.length - 1; a > -1; a--) {
    for (var b = hui.define.modules[a], c = 0, d = hui.define.loaded.length; d > c; c++)for (var e = hui.define.loaded[c], f = b.left.length - 1; f > -1; f--)b.left[f].replace("./", "").split("@")[0] == e && b.left.splice(f, 1);
    !b.loaded && b.left.length < 1 && (b.loaded = !0, b.todo(b.exports), b.name && hui.define.loaded.push(b.name), a = hui.define.modules.length)
  }
}, hui.define.left = function () {
  for (var a = [], b = 0, c = hui.define.modules.length; c > b; b++)a = a.concat(hui.define.modules[b].left);
  return a
}, hui.define.loadLeft = function () {
  for (var a = hui.define.left(), b = 0, c = a.length; c > b; b++)hui.require(a[b])
}, hui.define.autoload = !1, hui.define("hui", [], function () {
  "undefined" == typeof window || window.hui || (window.hui = {}), window.hui && (window.hui.window = window)
}), hui.define("hui_eventdispatcher", ["hui@0.0.1"], function () {
  hui.EventDispatcher = function () {
    this._listeners = {}
  }, hui.EventDispatcher.prototype = {on: function (a, b) {
    this._listeners[a] || (this._listeners[a] = []);
    for (var c, d = this._listeners[a], e = !1, f = 0, g = d.length; g > f; f++)if (d[f] === b) {
      e = !0, c = f;
      break
    }
    return e || (this._listeners[a].push(b), c = this._listeners[a].length - 1), c
  }, off: function (a, b) {
    if (this._listeners[a]) {
      for (var c = this._listeners[a], d = 0, e = c.length; e > d; d++)if (c[d] === b || d === b) {
        this._listeners[a][d] = void 0;
        break
      }
      void 0 === b && (this._listeners[a] = [])
    }
  }, clear: function (a) {
    if (a) {
      if (this._listeners[a])this._listeners[a] = []; else if ("[object Array]" === Object.prototype.toString.call(a))for (var b = 0, c = a.length; c > b; b++)this.clear(a[b])
    } else this._listeners = []
  }, trigger: function (a) {
    if (this._listeners[a]) {
      for (var b = [], c = 1; c < arguments.length; c++)b.push(arguments[c]);
      for (var d = this._listeners[a], c = 0, e = d.length; e > c; c++)d[c] && d[c].apply(this, b)
    }
  }}, hui.EventDispatcher.prototype.constructor = hui.EventDispatcher
}), hui.define("hui_control", ["hui@0.0.1", "hui_eventdispatcher@0.0.1", "hui_util"], function () {
  hui.Control = function (a, b) {
    hui.EventDispatcher.call(this), a = a || {}, this.initOptions(a), this.id || (this.id = hui.Control.makeGUID(this.formName)), hui.Control.appendControl(a.parentControl, this), "pending" != b && this.enterControl()
  }, hui.Control.prototype = {initOptions: function (a) {
    for (var b in a)a.hasOwnProperty(b) && (this[b] = a[b])
  }, getClass: function (a) {
    if (!this.type)return"";
    var b = this, c = String(b.type).toLowerCase(), d = "hui_" + c, e = "skin_" + c + "_" + b.skin;
    return a && (d += "_" + a, e += "_" + a), b.skin && (d = e + " " + d), d
  }, getId: function (a) {
    var b = this, c = b.id;
    return a && (c += a), c
  }, getDocument: function () {
    var a = "bocument" == this.bocument ? hui.bocument : document;
    return a
  }, getMain: function () {
    var a, b = this;
    return a = b.main ? document.getElementById(b.main) : null
  }, mainFocus: function () {
    var a = this.getMain();
    try {
      a.focus()
    } catch (b) {
    }
  }, getInnerHTML: function (a) {
    var b = this, a = a || b.getMain(), c = "";
    return a.getInnerHTML ? c = a.getInnerHTML() : void 0 !== a.innerHTML && (c = a.innerHTML), c
  }, setInnerHTML: function (a, b) {
    a = a && a.getMain ? a.getMain() : a, a && void 0 !== a.innerHTML && (a.innerHTML = b)
  }, render: function () {
    var a = this, b = a.getMain();
    b && "true" != b.getAttribute("_initView") && ($(b).addClass(a.getClass()), a.initView(), b.setAttribute("_initView", "true"))
  }, initView: function (a) {
    a && a()
  }, initBehavior: function () {
  }, initBehaviorByTree: function () {
    var a = this, b = a.getMain();
    if (a.controlMap)for (var c in a.controlMap)a.controlMap.hasOwnProperty(c) && a.controlMap[c].initBehaviorByTree();
    "true" != b.getAttribute("_initBehavior") && (b.setAttribute("_initBehavior", "true"), a.initBehavior())
  }, validate: function (a) {
    var b, c, d, e, f = this, g = !0, h = f.controlMap, i = hui.Control.getExtClass("hui.Validator");
    if (f.rule && !f.isDisabled()) {
      g = !1, c = String(f.rule).split("||");
      for (var j = 0, k = c.length; k > j && !g; j++) {
        b = !0, d = c[j].split("&&");
        for (var l = 0, m = d.length; m > l; l++)e = d[l], b = b && i.applyRule(f, e, a);
        g = g || b
      }
    }
    if (!f.rule && h && !f.isDisabled()) {
      g = !0, d = null;
      for (var j in h)j && h.hasOwnProperty(j) && h[j] && (e = h[j].validate(a), g = e && g, d = null !== d || e ? d : h[j])
    }
    return g
  }, hideError: function () {
    var a = this, b = hui.Control.getExtClass("hui.Validator");
    if (b.cancelNotice(a.getMain()), a.controlMap)for (var c in a.controlMap)c && a.controlMap.hasOwnProperty(c) && a.controlMap[c] && a.controlMap[c].hideError()
  }, showError: function (a, b) {
    var c = this, d = hui.Control.getExtClass("hui.Validator"), e = d.getRule(c.rule);
    e && "by_code" === b && (a = e.noticeText[a]), d.showError(c.getMain(), a)
  }, showErrorByTree: function (a, b) {
    var c, d = this;
    if (d.controlMap && a)for (var e in a)if (e && a.hasOwnProperty(e)) {
      if (c = d.controlMap[e] || d.getByFormName(e), !c)continue;
      "[object Object]" === Object.prototype.toString.call(a[e]) && c.controlMap ? c.showErrorByTree(a[e], b) : c.showError && c.showError(a[e], b), c = null
    }
  }, showOK: function () {
    var a = this, b = hui.Control.getExtClass("hui.Validator");
    b.showOK(a)
  }, showWaiting: function () {
    var a = this, b = hui.Control.getExtClass("hui.Validator");
    b.showWaiting(a)
  }, setValue: function (a) {
    var b = this;
    b.controlMap ? b.setValueByTree(this.value) : b.getMain().value = a
  }, setValueByTree: function (a) {
    var b, c, d = this;
    if (d.controlMap && a)for (var e in a)if (e && a.hasOwnProperty(e)) {
      if (b = d.controlMap[e] || d.getByFormName(e), !b)continue;
      b.constructor && b.constructor.prototype && b.constructor.prototype.hasOwnProperty && b.constructor.prototype.hasOwnProperty("setValue") ? b.setValue(a[e]) : b.getMain || b.main ? (c = (b.getMain ? b.getMain() : document.getElementById(b.main)) || {}, c.value = a[e]) : b.controlMap && b.setValueByTree(a[e]), b = null
    }
  }, getParamMap: function () {
    var a, b, c = this, d = {};
    if (c.controlMap)for (var e in c.controlMap)e && c.controlMap.hasOwnProperty(e) && c.controlMap[e] && (a = c.controlMap[e], b = hui.Control.prototype.getFormName.call(a), "false" !== String(a.isFormItem) && (a.getValue ? d[b] = a.getValue() : a.getMain || a.main ? d[b] = (a.getMain ? a.getMain() : document.getElementById(a.main)).value : a.controlMap && (d[b] = a.getParamMap())));
    return d
  }, getByFormName: function (a) {
    var b = this;
    return hui.Control.getByFormName(a, b)
  }, getValue: function () {
    var a = this, b = a.getMain ? a.getMain() : document.getElementById(a.main), c = a.value || b.value;
    return c
  }, show: function () {
    return $(this.getMain()).show().removeClass("hide"), this
  }, hide: function () {
    return $(this.getMain()).addClass("hide").hide(), this
  }, setDisabled: function (a) {
    var b = this, c = b.getMain();
    return c.disabled = "undefined" == typeof a ? a = !0 : a, c.disabled ? $(c).addClass(b.getClass("disabled")) : $(c).removeClass(b.getClass("disabled")), b
  }, setReadonly: function (a) {
    return"undefined" == typeof a && (a = !0), this.getMain().readOnly = a, this
  }, isDisabled: function () {
    return this.getMain().disabled
  }, isReadonly: function () {
    return this.getMain().readOnly
  }, setSize: function (a) {
    var b = this, c = b.getMain();
    b.size = a ? a : b.size, b.size && b.size.width && (c.style.width = b.size.width + ("string" != typeof b.size.width ? "px" : "")), b.size && b.size.height && (c.style.height = b.size.height + ("string" != typeof b.size.height ? "px" : "")), b.size && b.size.top && (c.style.top = b.size.top + ("string" != typeof b.size.top ? "px" : "")), b.size && b.size.bottom && (c.style.bottom = b.size.bottom + ("string" != typeof b.size.bottom ? "px" : "")), b.size && b.size.left && (c.style.left = b.size.left + ("string" != typeof b.size.left ? "px" : "")), b.size && b.size.right && (c.style.right = b.size.right + ("string" != typeof b.size.right ? "px" : ""))
  }, getFormName: function () {
    var a = this, b = a.getMain ? a.getMain() : document.getElementById(a.main), c = a.formName || a.name || (b ? b.getAttribute("name") : null) || (a.getId ? a.getId() : a.id);
    return c
  }, dispose: function () {
    var a, b, c = this, d = c.getMain ? c.getMain() : document.getElementById(c.main);
    if (c.parentControl && (a = c.parentControl.controlMap, b = c.getId ? c.getId() : c.id, a[b] = void 0, delete a[b]), c.disposeChild && c.disposeChild(), d) {
      try {
        d.onmouseover = void 0, d.onmouseout = void 0, d.onmousedown = void 0, d.onmouseup = void 0, d.onkeyup = void 0, d.onkeydown = void 0, d.onkeypress = void 0, d.onchange = void 0, d.onpropertychange = void 0, d.onfocus = void 0, d.onblur = void 0, d.onclick = void 0, d.ondblclick = void 0
      } catch (e) {
      }
      d.setInnerHTML ? d.setInnerHTML(d, "") : d.innerHTML && (d.innerHTML = ""), d.parentNode.removeChild(d)
    }
    c.rendered = void 0
  }, disposeChild: function () {
    var a = this, b = a.controlMap;
    if (b) {
      for (var c in b)c && b.hasOwnProperty(c) && (b[c].dispose(), delete b[c]);
      a.controlMap = {}
    }
  }, enterControl: function () {
    var a, b, c, d = this, e = d.parentControl;
    if (a = (d.getMain ? d.getMain() : null) || (d.createMain ? d.createMain() : hui.Control.prototype.createMain.call(d)), !a)return hui.Control.error("Control's main element is invalid");
    for (a.control = d.getId ? d.getId() : d.id, b = a; b && b.tagName && b.parentNode;) {
      if (b = b.parentNode, b && hui.Control.isControlMain(b)) {
        c = hui.Control.getById(b.control, e), hui.Control.appendControl(c, d);
        break
      }
      if (~"html,body".indexOf(String(b.tagName).toLowerCase())) {
        hui.Control.appendControl(null, d);
        break
      }
    }
    d.startRenderTime = new Date, a && a.getAttribute && "true" != a.getAttribute("_initView") && d.render && (d.render(), d.rendered = "true"), d.endRenderTime = new Date, d.initBehaviorByTree ? d.initBehaviorByTree() : d.initBehavior && d.initBehavior(), d.endInitBehaviorTime = new Date
  }, createMain: function () {
    var a = this, b = this.tagName || "DIV", c = document.createElement(String(b).toUpperCase()), d = a.parentControl, e = null;
    return!e && d && d.getMain && (e = d.getMain()), !e && d && d.main && (e = document.getElementById(d.main)), e || (e = document.body || document.documentElement), e.appendChild(c), c.id = hui.Control.makeElemGUID(a.id), a.main = c.id, c
  }, appendControl: function (a) {
    return hui.Control.appendControl(this, a)
  }}, hui.inherits(hui.Control, hui.EventDispatcher), hui.Control.makeGUID = function () {
    var a = 1;
    return function (b) {
      return(b ? b : "inner") + "_" + hui.Control.getHashCode("inner") + a++
    }
  }(), hui.Control.getHashCode = function (a) {
    var b = 0;
    if (0 === a.length)return b;
    for (var c = 0; c < a.length; c++) {
      var d = a.charCodeAt(c);
      b = (b << 5) - b + d, b &= b
    }
    return b
  }, hui.Control.makeElemGUID = function () {
    var a = 1;
    return function (b) {
      return void 0 !== b ? b + hui.Control.getHashCode(b) : "_" + hui.Control.formatDate(new Date, "yyyy_MM_dd_HH_mm") + "_" + a++
    }
  }(), hui.Control.parseCustomAttribute = function (a, b) {
    var c, d, e, a = "{" + a + "}";
    c = new Function("return " + a)();
    for (var f in c)c.hasOwnProperty(f) && (d = c[f], d && "string" == typeof d && 0 === d.indexOf("@") && (e = d.substr(1), d = b && b.get ? b.get(e) : b[e], void 0 === d && (d = hui.Control.getExtClass("hui.context").get(e)), c[f] = d));
    return c
  }, hui.Control.isChildControl = function (a, b) {
    for (var c = !1; a && a.tagName && a.parentNode && (a = a.parentNode, -1 != ~"html,body".indexOf(String(a.tagName).toLowerCase()));)for (var d = 0, e = b.length; e > d; d++)if (b[d] == a) {
      c = !0;
      break
    }
    return c
  }, hui.Control.isControlMain = function (a) {
    var b = !1;
    return a && a.getAttribute && a.control && "[object String]" === Object.prototype.toString.call(a.control) && (b = !0), b
  }, hui.Control.init = function (a, b, c) {
    if (!a || "true" === a.getAttribute("rendered"))return!1;
    b = b || {}, c = c || hui.window, c.controlMap = c.controlMap || {};
    var d, e, f = hui.Control.UI_ATTRIBUTE || "ui", g = [], h = [];
    g = hui.Control.findAllNodes(a);
    for (var i = 0, j = g.length; j > i; i++)d = g[i], d && d.getAttribute && d.getAttribute(f) && h.push(d);
    for (var i = 0, j = h.length; j > i; i++)d = h[i], hui.Control.isChildControl(d, h) || "true" === d.getAttribute("rendered") || (e = hui.Control.create(d, {parentControl: c}));
    return c.controlMap
  }, hui.Control.create = function (a, b) {
    if (a && "[object String]" != Object.prototype.toString.call(a) && a.getAttribute) {
      if (b = b || {}, hui.Control.isControlMain(a)) {
        var c = hui.Control.getById(a.control);
        c && hui.Control.appendControl(b.parentControl, c)
      }
      var d, e;
      try {
        d = a.getAttribute(hui.Control.UI_ATTRIBUTE || "ui");
        try {
          e = hui.Control.parseCustomAttribute(d)
        } catch (f) {
          e = hui.Control.parseCustomAttribute(d.replace(/\\\'/g, "'").replace(/\\\"/g, '"'))
        }
      } catch (f) {
        return void(window.JSON && window.JSON.stringify && window.console && window.console.log({type: a, options: b}))
      }
      for (var g in b)g && b.hasOwnProperty(g) && (e[g] = void 0 !== e[g] ? e[g] : b[g]);
      return e.id = e.id ? e.id : hui.Control.makeGUID(e.formName), a.id = a.id || hui.Control.makeElemGUID(e.id), e.main = a.id, hui.Control.create(e.type, e)
    }
    b = b || {};
    var h = b.id;
    h || (h = hui.Control.makeGUID(b.formName), b.id = h);
    var i = hui.Control.getById(h);
    i && i.dispose();
    var j = hui[a];
    j || hui.Control.error("Not use require('" + String(a).toLowerCase() + "') or \"" + String(a).toLowerCase() + '.js" is not loaded successfully.');
    var k = new j(b);
    return k.id = k.id || h, k.enterControl || (hui.extend(k, hui.Control.prototype), k.enterControl()), k
  }, hui.Control.appendControl = function (a, b) {
    a = a || hui.window, a.controlMap = a.controlMap || {};
    var c = b.getId ? b.getId() : b.id;
    b.parentControl && b.parentControl.controlMap && (b.parentControl.controlMap[c] = void 0, delete b.parentControl.controlMap[c]), a.controlMap[c] = b, b.parentControl = a
  }, hui.Control.findAllNodes = function (a, b) {
    var c, d, e, f, g, h, i;
    for (f = [], g = [a]; g.length;)if (e = g.pop(), e && ((void 0 === b || e.getAttribute && e.getAttribute(b)) && f.push(e), h = e.childNodes, !(!h || h.length < 1 || e != a && void 0 !== b && e.getAttribute(b))))for (c = 0, d = h.length; d > c; c++)i = h[c], g.push(i);
    return f[0] === a && f.shift(), f.reverse()
  }, hui.Control.findAllControl = function (a) {
    var b, c, d, e, f, g;
    for (d = [], e = [a]; e.length;)if (c = e.pop(), c && (d.push(c), f = c.controlMap))for (b in f)f.hasOwnProperty(b) && (g = f[b], e.push(g));
    return d.length > 0 && d.shift(), d
  }, hui.Control.findElemControl = function (a) {
    for (var b = null; a && a.tagName && a.parentNode;) {
      if (a = a.parentNode, a && hui.Control.isControlMain(a)) {
        b = hui.Control.getById(a.control);
        break
      }
      if (~"html,body".indexOf(String(a.tagName).toLowerCase()))break
    }
    return b
  }, hui.Control.getById = function (a, b) {
    var c, d = null;
    if ("string" == typeof b && (b = hui.Control.getById(b)), b = b && b.getId ? b : hui.Action && hui.Action.get ? hui.Action.get(b) || hui.Action.get() : hui.window, void 0 === a || b && b.getId && a === b.getId())d = b; else if (b) {
      c = hui.Control.findAllControl(b);
      for (var e = 0, f = c.length; f > e; e++)c[e].id == a && (d = c[e])
    }
    if (!d) {
      c = hui.Control.findAllControl(window);
      for (var e = 0, f = c.length; f > e; e++)c[e].id == a && (d = c[e])
    }
    return d
  }, hui.Control.getByFormNameAll = function (a, b) {
    var c, d = [], e = hui.Control.getById(void 0, b) || window;
    if (a) {
      a = String(a), c = e && e.controlMap ? e.controlMap : {}, e.getFormName && e.getFormName() === a && d.push(e), c = e && e.controlMap ? hui.Control.findAllControl(e) : {};
      for (var f in c)c.hasOwnProperty(f) && c[f].getFormName() === a && d.push(c[f])
    }
    return d
  }, hui.Control.getByFormName = function (a, b) {
    var c, d = null;
    if ("string" == typeof b && (b = hui.Control.getById(b) || hui.Control.getByFormName(b)), c = hui.Control.getByFormNameAll(a, b), b && b.parentNode && b.childNodes) {
      for (var e = 0, f = c.length; f > e; e++)if (hui.Control.checkParentNode(c[e], b)) {
        d = c[e];
        break
      }
    } else d = c[0];
    return d
  }, hui.Control.checkParentNode = function (a, b) {
    var c, d = !1;
    if (b && d.getMain)for (c = d.getMain(); c;)c.parentNode === b ? (d = !0, c = null) : c = c.parentNode;
    return d
  }, hui.Control.format = hui.util.format, hui.Control.formatDate = hui.util.formatDate, hui.Control.parseDate = hui.util.parseDate, hui.Control.error = function (a) {
    hui.window && hui.window.console && hui.window.console.error ? hui.window.console.error(a) : "undefined" != typeof window && window.console && window.console.error && window.console.error(a)
  }, hui.Control.log = function (a) {
    hui.window && hui.window.console && hui.window.console.log ? hui.window.console.log(a) : "undefined" != typeof window && window.console && window.console.log && window.console.log(a)
  }, hui.Control.getExtClass = function (a) {
    var b = function () {
    };
    switch (a) {
      case"hui.BaseModel":
        "undefined" != typeof hui && hui.BaseModel ? b = hui.BaseModel : (b.get = new Function, b.set = new Function);
        break;
      case"hui.Validator":
        "undefined" != typeof hui && hui.Validator ? b = hui.Validator : (b.cancelNotice = new Function, b.set = new Function);
        break;
      case"hui.Action":
        "undefined" != typeof hui && hui.Validator ? b = hui.Validator : b.get = new Function;
        break;
      case"hui.context":
        "undefined" != typeof hui && hui.context ? b = hui.context : (b = {}, b.get = new Function)
    }
    return b
  }
}), hui.define("hui_requester", [], function () {
  var a = {handler: {}, createXHRProxyObject: function () {
    var a = this, b = {};
    return b.xhr = window.XMLHttpRequest ? new window.XMLHttpRequest : new window.ActiveXObject("Microsoft.XMLHTTP"), b.eventHandlers = {}, b.fire = a.creatFireHandler(), b.online = /^https?:$/i.test(window.location.protocol), b.responseCallback = function (a, c) {
      window.Requester.updateStatus(c), c && window.Requester.backendError && window.Requester.backendError(b, c), c = c || [], a && window.setTimeout(function () {
        a(c)
      }, 0)
    }, b
  }, creatFireHandler: function () {
    return function (a) {
      a = "on" + a;
      var b, c = this, d = c.eventHandlers[a], e = window.Requester.handler[a];
      if (d) {
        if (c.eventHandlers.action && !c.eventHandlers.action.active)return;
        if (c.tick && clearTimeout(c.tick), "onsuccess" != a)window.setTimeout(function () {
          d("failure", c)
        }, 0); else if ("XML" == c.eventHandlers.datatype)try {
          c.xhr.responseXML, c.responseCallback(d, c.xhr.responseXML)
        } catch (f) {
          return void window.setTimeout(function () {
            d("error", c)
          }, 0)
        } else if ("TEXT" == c.eventHandlers.datatype)try {
          c.xhr.responseText, c.responseCallback(d, c.xhr.responseText)
        } catch (f) {
          return void window.setTimeout(function () {
            d("error", c)
          }, 0)
        } else {
          try {
            c.xhr.responseText
          } catch (f) {
            return void window.setTimeout(function () {
              d("error", c)
            }, 0)
          }
          var g = c.xhr.responseText.replace(/^\s+/gi, "");
          if (0 === g.indexOf("[")) {
            var h;
            try {
              h = new Function("return " + g + ";"), b = h()
            } catch (i) {
              h = new Function("return " + window.Requester.removeJSONExtComma(g) + ";"), b = h()
            }
            c.responseCallback(d, b)
          } else if (0 === g.indexOf("{")) {
            var h;
            try {
              h = new Function("return " + g + ";"), b = h()
            } catch (i) {
              h = new Function("return " + window.Requester.removeJSONExtComma(g) + ";"), b = h()
            }
            c.responseCallback(d, b)
          } else window.setTimeout(function () {
            d(null, g)
          }, 0)
        }
      } else if (e) {
        if ("onsuccess" == a)return;
        e(c)
      }
    }
  }, getValidXHR: function () {
    var a = this;
    return a.createXHRProxyObject()
  }, request: function (a, b, c) {
    c = c || this.getValidXHR();
    var d = this.beforeRequest(a, b);
    if (d && "string" != typeof d && c)c.responseCallback(b.onsuccess, d); else if (d && "string" == typeof d && c) {
      a = d;
      var e, f, g, h = this, i = b || {}, j = i.data || "", k = c.online && i.async !== !1, l = i.username || "", m = i.password || "", n = (i.method || "GET").toUpperCase(), o = i.headers || {}, p = i.timeout || 0;
      c.eventHandlers.on404 = h.on404, c.eventHandlers.onsuccess = h.onsuccess, c.eventHandlers.ontimeout = h.ontimeout, i.onfailure || (c.eventHandlers.onfailure = window.Requester.fn(h.onfailure, c));
      for (e in i)i.hasOwnProperty(e) && (c.eventHandlers[e] = i[e]);
      c.url = a, o["X-Requested-With"] = "XMLHttpRequest", o["Content-Type"] = c.eventHandlers.contentType || c.eventHandlers["Content-Type"] || "application/x-www-form-urlencoded", o.Accept = c.eventHandlers.accept || c.eventHandlers.Accept || "application/x-www-form-urlencoded", o.dataType = c.eventHandlers.dataType = c.eventHandlers.datatype = (i.dataType || "JSON").toLowerCase();
      try {
        if ("[object Object]" === Object.prototype.toString.call(j)) {
          f = [];
          for (e in j)e && j.hasOwnProperty(e) && f.push(window.Requester.encode(e) + "=" + window.Requester.encode(j[e]));
          j = f.join("&")
        }
        j = window.Requester.addSysParam(j), "GET" == n && j && (a += (a.indexOf("?") >= 0 ? "&" == j.substr(0, 1) ? "" : "&" : "?") + j, j = null);
        try {
          l ? c.xhr.open(n, a, k, l, m) : c.xhr.open(n, a, k)
        } catch (q) {
        }
        g = window.Requester.fn(h.createStateChangeHandler, c), k && (c.xhr.onreadystatechange = g);
        for (e in o)o.hasOwnProperty(e) && c.xhr.setRequestHeader(e, o[e]);
        c.fire("beforerequest"), p && (c.tick = setTimeout(function () {
          c.xhr.onreadystatechange = window.Requester.blank, c.xhr.abort(), delete c.xhr, c.fire("timeout")
        }, p)), c.xhr.send(j), k || g.call(c)
      } catch (r) {
        c.fire("failure")
      }
    }
  }, createStateChangeHandler: function () {
    var a, b = this;
    if (4 == b.xhr.readyState) {
      try {
        a = b.xhr.status
      } catch (c) {
        return void b.fire("failure")
      }
      b.fire(a), a >= 200 && 300 > a || 304 == a || 1223 == a ? (b.status = "finished", b.fire("success")) : 0 !== a || b.online ? (0 === a && window.console && window.console.log && window.console.error("XHR Error: Cross domain, cannot access: %s.", b.url), b.fire("failure")) : b.fire("success"), window.Requester.checkQue && window.setTimeout(window.Requester.checkQue, 0)
    }
  }, encode: function (a, b) {
    a = String(a);
    var c = "%| |&|;|=|+|<|>|,|\"|'|#|/|\\|\n|\r|	".split("|"), d = "%25|%20|%26|%3B|%3D|%2B|%3C|%3E|%2C|%22|%27|%23|%2F|%5C|%0A|%0D|%09".split("|");
    if ("decode" == b)for (var e = c.length - 1; e > -1; e--)a = a.replace(new RegExp("\\" + d[e], "ig"), c[e]); else for (var e = 0, f = c.length; f > e; e++)a = a.replace(new RegExp("\\" + c[e], "ig"), d[e]);
    return a
  }, decode: function (a) {
    return this.encode(a, "decode")
  }, on404: function () {
  }, onsuccess: function () {
  }, ontimeout: function () {
  }, onfailure: function () {
    var a = this;
    hui && hui.Pnotice && hui.Pnotice.show && hui.Pnotice.show('Error: url "' + a.url + '" response ' + a.xhr.status, 3e3), a.fire("success")
  }};
  a.blank = function () {
  }, a.addSysParam = function (a) {
    return a
  }, a.fn = function (a, b) {
    if ("[object String]" === Object.prototype.toString.call(a) && (a = b[a]), "[object Function]" !== Object.prototype.toString.call(a))throw'Error "Requester.fn()": "func" is null';
    var c = arguments.length > 2 ? [].slice.call(arguments, 2) : null;
    return function () {
      var d = "[object String]" == Object.prototype.toString.call(a) ? b[a] : a, e = c ? c.concat([].slice.call(arguments, 0)) : arguments;
      return d.apply(b || d, e)
    }
  }, a.removeJSONExtComma = function (a) {
    var b, c, d, e, f, g, h = null, i = null;
    for (e = String(a).split(""), b = 0, d = e.length; d > b; b++)if (f = e[b], /^[\'\"]$/.test(f)) {
      if (null === h && null === i) {
        h = !1, i = b;
        continue
      }
      if (h)-1 == i ? (i = b, h = !1) : e[i] === f && (h = !0, i = -1); else {
        for (g = 0, c = b - 1; c > -1; c--)"\\" === e[c] ? g++ : c = -1;
        g % 2 === 0 && e[i] === f && (h = !0, i = -1)
      }
    } else if (("]" === f || "}" === f) && h)for (c = b - 1; c > -1; c--)if (!/^[\t\r\n\s ]+$/.test(e[c])) {
      "," === e[c] && (e[c] = "");
      break
    }
    return e.join("").replace(/\n/g, "").replace(/\r/g, "")
  }, a.get = function (b, c) {
    return c.method = "GET", a.request(b, c)
  }, a.head = function (b, c) {
    return c.method = "HEAD", a.request(b, c)
  }, a.post = function (b, c) {
    return c.method = "POST", a.request(b, c)
  }, a.postMD5 = function (b, c) {
    return c.method = "POST", c.usemd5 = !0, a.request(b, c)
  }, a.put = function (b, c) {
    return c.method = "PUT", a.request(b, c)
  }, a["delete"] = function (b, c) {
    return c.method = "DELETE", a.request(b, c)
  }, a.beforeRequest = function (b, c) {
    var d, e = a.getExtClass("hui.Permission"), f = a.getExtClass("hui.Mockup");
    if (d = e.checkRequest(b, c), d && "notpermit" == d[0])return null;
    b = d ? d[1] : b;
    var g = b;
    return!f.stop && f.find(b) && (window.console && window.console.log && window.console.log(b), g = hui.Mockup.get(b, c)), g
  }, a.updateStatus = function () {
    window.hui && hui.Permission && hui.Permission.updateStatus
  }, a.backendError = function (a, b) {
    var c;
    return window.hui && hui.Action && hui.Action.get && (c = hui.Action.get()) ? (c.showErrorByTree(b), "finished") : void 0
  }, a.jsonproxy = {}, a.JSONP = function (b, c) {
    var d = a.getExtClass("hui.Mockup"), c = c || {}, e = c.onsuccess || Function("");
    if (!d.stop && d.find(b))return window.console && window.console.log && window.console.log(b), e(d.get(b));
    var f = this, g = f.getValidProxy(c.action);
    g.action = c.action, g.onsuccess = c.onsuccess, g.status = "send";
    var h = [];
    if (c.data)for (var i in c.data)c.data.hasOwnProperty(i) && h.push(a.encode(i) + "=" + a.encode(c.data[i]));
    h.push("rand=" + Math.random()), h.push('callback=window.Requester.jsonproxy_callback("' + g.id + '").callback'), document.getElementById(g.id).src = b + (~b.indexOf("?") ? "&" : "?") + h.join("&")
  }, a.jsonproxy_callback = function (a) {
    return window.Requester.jsonproxy[a]
  }, a.getValidProxy = function () {
    var a = this;
    return a.createProxy()
  }, a.createProxy = function (a) {
    var b = this, c = {};
    c.id = a || hui.util.formatDate(new Date, "yyyyMMddHHmmss") + "" + String(Math.random()).substr(3, 4), c.status = "finished", c.callback = b.creatProxyCallback();
    var d = document.createElement("script");
    return d.id = c.id, d.type = "text/javascript", d.charset = "utf-8", document.getElementsByTagName("head")[0].appendChild(d), d = null, window.Requester.jsonproxy[c.id] = c, c
  }, a.creatProxyCallback = function () {
    return function (a) {
      var b = this;
      b.status = "finished", b.action && a && window.Requester && window.Requester.backendError && window.Requester.backendError(b, a), b.onsuccess && b.onsuccess(a)
    }
  }, a.getValidProxy = function () {
    var a, b, c = this, d = null;
    for (a in c.jsonproxy)if (a && c.jsonproxy.hasOwnProperty(a) && c.jsonproxy[a] && "finished" == c.jsonproxy[a].status) {
      b = document.getElementById(a), b && window.addEventListener && (b.parentNode.removeChild(b), d = c.createProxy(a));
      break
    }
    return d || c.createProxy()
  }, a.getExtClass = function (a) {
    var b = function () {
    };
    switch (a) {
      case"hui.Permission":
        "undefined" != typeof hui && hui.Permission ? b = hui.Permission : (b.checkRequest = new Function, b.set = new Function);
        break;
      case"hui.Mockup":
        "undefined" != typeof hui && hui.Mockup ? b = hui.Mockup : (b.find = new Function, b.get = new Function)
    }
    return b
  }, hui.Mockup = {find: function (a) {
    var b = hui.Mockup.maps[a];
    if (void 0 === b) {
      a = a.split("#")[0].split("?")[0];
      for (var c in hui.Mockup.maps)c.split("#")[0].split("?")[0] === a && (b = hui.Mockup.maps[c])
    }
    return b
  }, get: function (a, b) {
    var c = null, d = hui.Mockup.find(a);
    return c = "[object Function]" === Object.prototype.toString.call(d) ? d(a, b) : "[object Array]" === Object.prototype.toString.call(d) ? "[object Array]" === Object.prototype.toString.call(d[0]) ? d[(new Date).getTime() % d.length] : d : "[object Object]" === Object.prototype.toString.call(d) ? d : "string" != typeof d ? d : d
  }, setRule: function (a, b) {
    hui.Mockup.maps[a] = b
  }, remove: function (a) {
    hui.Mockup.maps[a] = void 0
  }, clear: function () {
    hui.Mockup.maps = {}
  }}, hui.Mockup.maps = {}, hui.Mockup.setRule("/hui_mockup_helloworld", {status: 0, message: "", data: "Hello world."}), "undefined" != typeof window && (window.Requester = a)
}), hui.define("hui_button", ["hui_control@0.0.1"], function () {
  hui.Button = function (a, b) {
    this.isFormItem = !1, hui.Button.superClass.call(this, a, "pending"), this.type = "btn", "pending" != b && this.enterControl()
  }, hui.Button.prototype = {tplButton: '<span id="#{2}" class="#{1}">#{0}</span>', onclick: new Function, getMainHtml: function () {
    var a = this;
    return hui.Control.format(a.tplButton, a.content || "&nbsp;", a.getClass("label"), a.getId("label"))
  }, render: function () {
    hui.Button.superClass.prototype.render.call(this);
    var a, b = this, c = b.getMain();
    a = c.firstChild, !b.content && a && "DIV" != a.tagName && (b.content = b.getInnerHTML()), b.setInnerHTML(b, b.getMainHtml()), $(c).on("click", b.getHandlerClick()), b.setSize(), b.setDisabled(!!b.disabled)
  }, getHandlerClick: function () {
    var a = this;
    return function () {
      a.isDisabled() || a.onclick()
    }
  }, setContent: function (a) {
    return $(this.getMain()).find("#" + this.getId("label")).html(a), this
  }, showWaiting: function () {
  }}, hui.inherits(hui.Button, hui.Control)
}), hui.define("hui_checkbox", ["hui_control@0.0.1"], function () {
  hui.Checkbox = function (a, b) {
    hui.Checkbox.superClass.call(this, a, "pending"), this.type = "checkbox", "pending" != b && this.enterControl()
  }, hui.Checkbox.prototype = {getInput: function () {
    return $(this.getMain()).find("." + this.getClass("input"))[0]
  }, getIcon: function () {
    return $(this.getMain()).find("." + this.getClass("icon"))[0]
  }, getLabel: function () {
    return $(this.getMain()).find("." + this.getClass("label"))[0]
  }, renderLabel: function () {
    var a = this, b = a.getMain(), c = a.getLabel(), d = '<label class="#{0}">#{1}</label>';
    c ? b.appendChild(c) : hui.appendHTML(b, hui.format(d, a.getClass("label"), a.label))
  }, render: function () {
    hui.Checkbox.superClass.prototype.render.call(this);
    var a = this, b = a.getMain();
    a.setSize();
    var c = '<i class="#{1}"><input type="checkbox" class="#{0}" style="display:none" />✓&nbsp;&nbsp;&nbsp;</i>';
    hui.appendHTML(b, hui.format(c, a.getClass("input"), a.getClass("icon"))), a.renderLabel()
  }, initBehavior: function () {
    var a = this, b = a.getIcon(), c = a.getMain();
    a.setChecked(!!a.checked), c.onclick = hui.fn(a.getClickHandler, a), b.onselectstart = new Function("return false;")
  }, setValue: function (a) {
    var b = this;
    b.setChecked(!!a)
  }, getValue: function () {
    var a = this, b = a.getChecked() ? a.getPresetValue() : "";
    return b
  }, getPresetValue: function () {
    var a = this, b = void 0 !== a.value ? a.value : a.getInput().value;
    return b
  }, setPresetValue: function (a) {
    var b = this, c = b.getInput();
    b.value = a, c.value = a
  }, setChecked: function (a) {
    var b = this, c = b.getInput(), d = b.getMain();
    a === !1 ? (c.checked = !1, $(d).removeClass(b.getClass("checked"))) : (c.checked = !0, $(d).addClass(b.getClass("checked")))
  }, getChecked: function () {
    var a = this;
    return!!a.getInput().checked
  }, getClickHandler: function () {
    var a = this;
    a.setChecked(!a.getChecked()), a.onclick()
  }, onclick: new Function}, hui.inherits(hui.Checkbox, hui.Control)
}), hui.define("hui_label", ["hui_control@0.0.1"], function () {
  hui.Label = function (a, b) {
    this.isFormItem = !1, hui.Label.superClass.call(this, a, "pending"), this.type = "label", "pending" != b && this.enterControl()
  }, hui.Label.prototype = {render: function () {
    hui.Label.superClass.prototype.render.call(this);
    var a = this;
    void 0 !== a.text && a.setInnerHTML(a, a.text)
  }, setValue: function (a) {
    var b = this;
    b.main && (a = String(a), b.setInnerHTML(b, a), b.value = a, b.text = a)
  }}, hui.inherits(hui.Label, hui.Control)
}), hui.define("hui_mask", ["hui@0.0.1"], function () {
  hui.Mask = {getId: function () {
    return"hj001_mask"
  }, init: function () {
    var a = document.createElement("div");
    return a.id = hui.Mask.getId(), a.className = "hj001_mask hide", document.body.appendChild(a), a.innerHTML = '<iframe width="100%" height="100%" frameborder="0" src="about:blank" ></iframe>', a
  }, repaintMask: function () {
    var a = Math.max(document.documentElement.offsetWidth, document.body.offsetWidth), b = Math.max(document.documentElement.offsetHeight, document.body.offsetHeight), c = hui.Mask.getMask();
    window.ActiveXObject ? window.XMLHttpRequest ? document.querySelector ? document.addEventListener ? (c.style.width = a - 18 + "px", c.style.height = b + 30 + "px") : (c.style.width = a - 21 + "px", c.style.height = b - 7 + "px") : (c.style.width = a + "px", c.style.height = b + "px") : (c.style.width = a - 21 + "px", c.style.height = b + "px") : (c.style.width = a + "px", c.style.height = b + "px"), c.style.top = "0px", c.style.left = "0px"
  }, resizeHandler: function () {
    hui.Mask.repaintMask()
  }, getMask: function () {
    var a = document.getElementById(hui.Mask.getId());
    return a || (a = hui.Mask.init()), a
  }, show: function () {
    var a = hui.Mask.getMask();
    hui.Mask.repaintMask(a), $(a).removeClass("hide"), window.addEventListener ? window.addEventListener("scroll", hui.Mask.resizeHandler, !1) : window.attachEvent && window.attachEvent("onscroll", hui.Mask.resizeHandler)
  }, hide: function () {
    $(hui.Mask.getMask()).addClass("hide"), window.removeEventListener && window.removeEventListener("scroll", hui.Mask.resizeHandler, !1), window.detachEvent && window.detachEvent("onscroll", hui.Mask.resizeHandler)
  }}
}), hui.define("hui_md5", ["hui@0.0.1"], function () {
  hui.MD5 = function () {
    function a(a) {
      return k(b(j(a), a.length * m))
    }

    function b(a, b) {
      a[b >> 5] |= 128 << b % 32, a[(b + 64 >>> 9 << 4) + 14] = b;
      for (var c = 1732584193, i = -271733879, j = -1732584194, k = 271733878, l = 0; l < a.length; l += 16) {
        var m = c, n = i, o = j, p = k;
        c = d(c, i, j, k, a[l + 0], 7, -680876936), k = d(k, c, i, j, a[l + 1], 12, -389564586), j = d(j, k, c, i, a[l + 2], 17, 606105819), i = d(i, j, k, c, a[l + 3], 22, -1044525330), c = d(c, i, j, k, a[l + 4], 7, -176418897), k = d(k, c, i, j, a[l + 5], 12, 1200080426), j = d(j, k, c, i, a[l + 6], 17, -1473231341), i = d(i, j, k, c, a[l + 7], 22, -45705983), c = d(c, i, j, k, a[l + 8], 7, 1770035416), k = d(k, c, i, j, a[l + 9], 12, -1958414417), j = d(j, k, c, i, a[l + 10], 17, -42063), i = d(i, j, k, c, a[l + 11], 22, -1990404162), c = d(c, i, j, k, a[l + 12], 7, 1804603682), k = d(k, c, i, j, a[l + 13], 12, -40341101), j = d(j, k, c, i, a[l + 14], 17, -1502002290), i = d(i, j, k, c, a[l + 15], 22, 1236535329), c = e(c, i, j, k, a[l + 1], 5, -165796510), k = e(k, c, i, j, a[l + 6], 9, -1069501632), j = e(j, k, c, i, a[l + 11], 14, 643717713), i = e(i, j, k, c, a[l + 0], 20, -373897302), c = e(c, i, j, k, a[l + 5], 5, -701558691), k = e(k, c, i, j, a[l + 10], 9, 38016083), j = e(j, k, c, i, a[l + 15], 14, -660478335), i = e(i, j, k, c, a[l + 4], 20, -405537848), c = e(c, i, j, k, a[l + 9], 5, 568446438), k = e(k, c, i, j, a[l + 14], 9, -1019803690), j = e(j, k, c, i, a[l + 3], 14, -187363961), i = e(i, j, k, c, a[l + 8], 20, 1163531501), c = e(c, i, j, k, a[l + 13], 5, -1444681467), k = e(k, c, i, j, a[l + 2], 9, -51403784), j = e(j, k, c, i, a[l + 7], 14, 1735328473), i = e(i, j, k, c, a[l + 12], 20, -1926607734), c = f(c, i, j, k, a[l + 5], 4, -378558), k = f(k, c, i, j, a[l + 8], 11, -2022574463), j = f(j, k, c, i, a[l + 11], 16, 1839030562), i = f(i, j, k, c, a[l + 14], 23, -35309556), c = f(c, i, j, k, a[l + 1], 4, -1530992060), k = f(k, c, i, j, a[l + 4], 11, 1272893353), j = f(j, k, c, i, a[l + 7], 16, -155497632), i = f(i, j, k, c, a[l + 10], 23, -1094730640), c = f(c, i, j, k, a[l + 13], 4, 681279174), k = f(k, c, i, j, a[l + 0], 11, -358537222), j = f(j, k, c, i, a[l + 3], 16, -722521979), i = f(i, j, k, c, a[l + 6], 23, 76029189), c = f(c, i, j, k, a[l + 9], 4, -640364487), k = f(k, c, i, j, a[l + 12], 11, -421815835), j = f(j, k, c, i, a[l + 15], 16, 530742520), i = f(i, j, k, c, a[l + 2], 23, -995338651), c = g(c, i, j, k, a[l + 0], 6, -198630844), k = g(k, c, i, j, a[l + 7], 10, 1126891415), j = g(j, k, c, i, a[l + 14], 15, -1416354905), i = g(i, j, k, c, a[l + 5], 21, -57434055), c = g(c, i, j, k, a[l + 12], 6, 1700485571), k = g(k, c, i, j, a[l + 3], 10, -1894986606), j = g(j, k, c, i, a[l + 10], 15, -1051523), i = g(i, j, k, c, a[l + 1], 21, -2054922799), c = g(c, i, j, k, a[l + 8], 6, 1873313359), k = g(k, c, i, j, a[l + 15], 10, -30611744), j = g(j, k, c, i, a[l + 6], 15, -1560198380), i = g(i, j, k, c, a[l + 13], 21, 1309151649), c = g(c, i, j, k, a[l + 4], 6, -145523070), k = g(k, c, i, j, a[l + 11], 10, -1120210379), j = g(j, k, c, i, a[l + 2], 15, 718787259), i = g(i, j, k, c, a[l + 9], 21, -343485551), c = h(c, m), i = h(i, n), j = h(j, o), k = h(k, p)
      }
      return Array(c, i, j, k)
    }

    function c(a, b, c, d, e, f) {
      return h(i(h(h(b, a), h(d, f)), e), c)
    }

    function d(a, b, d, e, f, g, h) {
      return c(b & d | ~b & e, a, b, f, g, h)
    }

    function e(a, b, d, e, f, g, h) {
      return c(b & e | d & ~e, a, b, f, g, h)
    }

    function f(a, b, d, e, f, g, h) {
      return c(b ^ d ^ e, a, b, f, g, h)
    }

    function g(a, b, d, e, f, g, h) {
      return c(d ^ (b | ~e), a, b, f, g, h)
    }

    function h(a, b) {
      var c = (65535 & a) + (65535 & b), d = (a >> 16) + (b >> 16) + (c >> 16);
      return d << 16 | 65535 & c
    }

    function i(a, b) {
      return a << b | a >>> 32 - b
    }

    function j(a) {
      for (var b = Array(), c = (1 << m) - 1, d = 0; d < a.length * m; d += m)b[d >> 5] |= (a.charCodeAt(d / m) & c) << d % 32;
      return b
    }

    function k(a) {
      for (var b = l ? "0123456789ABCDEF" : "0123456789abcdef", c = "", d = 0; d < 4 * a.length; d++)c += b.charAt(a[d >> 2] >> d % 4 * 8 + 4 & 15) + b.charAt(a[d >> 2] >> d % 4 * 8 & 15);
      return c
    }

    var l = 0, m = 8;
    return{encode: a}
  }()
}), hui.define("hui_textinput", ["hui_control@0.0.1"], function () {
  hui.TextInput = function (a, b) {
    hui.TextInput.superClass.call(this, a, "pending"), this.type = "textinput", this.form = 1, this.tagName = "input", this.value = 0 === this.value ? 0 : this.value || "", this.useAgent = !1, this.autoHideError = void 0 === this.autoHideError ? !1 : this.autoHideError, this.autoValidate = void 0 === this.autoValidate ? !1 : this.autoValidate, "pending" != b && this.enterControl()
  }, hui.TextInput.prototype = {doDBC2SBC: function (a) {
    var b = "";
    a = void 0 === a || null === a ? "" : String(a);
    for (var c = 0; c < a.length; c++) {
      var d = a.charCodeAt(c);
      b += d >= 65281 && 65373 >= d ? String.fromCharCode(a.charCodeAt(c) - 65248) : 12288 == d ? String.fromCharCode(a.charCodeAt(c) - 12288 + 32) : a.charAt(c)
    }
    return b
  }, getValue: function () {
    var a = this, b = a.getMain().value;
    return a.DBC2SBC && (b = a.doDBC2SBC(b)), b
  }, setValue: function (a) {
    if (!this.isReadonly() && !this.isDisabled()) {
      var b = this;
      a = void 0 === a ? "" : a, b.DBC2SBC && (a = b.doDBC2SBC(a)), b.getChangeHandler(a), b.getMain().value = a, a ? (b.hidePlaceholder(), b.showEye()) : (b.showPlaceholder(), b.hideEye())
    }
  }, setTitle: function (a) {
    this.getMain().setAttribute("title", a)
  }, disable: function (a) {
    "undefined" == typeof a && (a = !0), a ? this.getMain().disabled = "disabled" : this.getMain().removeAttribute("disabled")
  }, setReadonly: function (a) {
    a = !!a, this.getMain().readOnly = a, this.readonly = a
  }, getInput: function () {
    var a, b = this, c = b.getMain(), a = b.useAgent ? $("." + b.getClass("text"))[0] : c;
    return a
  }, getPlaceholder: function () {
    var a, b = this, c = b.getMain(), a = b.useAgent ? $("." + b.getClass("placeholder"))[0] : hui.util.findSiblingByClassName(c, b.getClass("placeholder"), "pre");
    return a
  }, getEye: function () {
    var a, b = this, c = b.getMain(), a = b.useAgent ? $("." + b.getClass("eye"))[0] : hui.util.findSiblingByClassName(c, b.getClass("eye"), "pre");
    return a
  }, renderInput: function () {
    var a = this, b = a.getMain(), c = '<input type="text" class="#{0}" />';
    a.agent && hui.appendHTML(b, hui.format(c, a.getClass("text")))
  }, renderPlaceholder: function () {
    var a = this, b = a.getMain(), c = a.getPlaceholder();
    c || (c = document.createElement("SPAN"), c.className = a.getClass("placeholder"), a.setInnerHTML(c, a.placeholder), a.agent ? (b.appendChild(c), b.insertBefore(c, b.firstChild)) : b.parentNode.insertBefore(c, b.parentNode.firstChild))
  }, renderEye: function () {
    var a = this, b = a.getMain(), c = '<a href="#nogo" onmousedown="hui.Control.getById(\'#{1}\').onmousedown()" onmouseup="hui.Control.getById(\'#{1}\').onmouseup()" class="#{0}">Show</a>', d = a.getEye();
    d || (d = hui.util.getDom(hui.format(c, a.getClass("eye"), a.getId()))[0], a.agent ? (b.appendChild(d), b.insertBefore(d, b.firstChild)) : b.parentNode.insertBefore(d, b.parentNode.firstChild))
  }, render: function () {
    hui.TextInput.superClass.prototype.render.call(this);
    var a = this, b = a.getMain(), c = String(b.tagName).toLowerCase();
    "input" !== c && "textarea" !== c && "password" !== c && (a.useAgent = !0), a.useAgent && a.renderInput(), a.placeholder && a.renderPlaceholder(), a.useEye && a.renderEye(), a.setSize(), a.main && a.value && (a.getMain().value = a.value)
  }, initBehavior: function () {
    var a = this, b = a.getMain();
    a.setReadonly(!!a.readonly);
    var c = a.getInput(), d = a.getPlaceholder();
    c.value && d && (d.style.display = "none"), a.setValue(a.getValue()), b.onpaste = b.onkeydown = a.getPressDownHandler, b.onkeyup = a.getPressUpHandler, b.onkeypress = a.getPressHandler, b.onfocus = a.getFocusHandler, b.onblur = a.getBlurHandler, b.onchange = a.getChangeHandler
  }, getFocusHandler: function (a) {
    var b = this, c = b.getMain ? b : hui.Control.getById(b.control);
    c.autoHideError && c.hideError(), c.onfocus(a)
  }, getBlurHandler: function (a) {
    var b = this, c = b.getMain ? b : hui.Control.getById(b.control);
    c.allowSpace === !1 && c.removeSpace();
    var d = c.getValue();
    c.placeholder && (d ? c.hidePlaceholder() : c.showPlaceholder()), c.useEye && (d ? c.showEye() : c.hideEye()), c.autoValidate && c.validate(), !d && c.hideBlankError && c.hideError(), c.onblur(a)
  }, removeSpace: function () {
    var a = this, b = a.getValue(), c = b.replace(/\s/gi, "");
    b !== c && a.setValue(c)
  }, getPressHandler: function (a) {
    var b = this, c = b.getMain ? b : hui.Control.getById(b.control);
    a = a || hui.window.event;
    var d = a.keyCode || a.which;
    return 13 == d ? c.onenter() : void c.onkeypress(a)
  }, getPressDownHandler: function (a) {
    var b = this, c = b.getMain ? b : hui.Control.getById(b.control);
    a = a || hui.window.event;
    var d = a.keyCode || a.which;
    8 != d && c.hidePlaceholder("force"), window.setTimeout(function () {
      c.onkeydown(a)
    }, 5)
  }, getPressUpHandler: function (a) {
    var b = this, c = b.getMain ? b : hui.Control.getById(b.control), d = c.getValue();
    d ? c.hidePlaceholder("force") : c.showPlaceholder(), d.indexOf(" ") !== d.length - 1 && c.allowSpace === !1 && c.removeSpace(), c.useEye && (d ? c.showEye() : c.hideEye()), c.onkeyup(a)
  }, getChangeHandler: function (a) {
    var b = this, c = b.getMain ? b : hui.Control.getById(b.control), d = a && (a.target || a.srcElement) ? c.getMain().value : a;
    c.onchange(d)
  }, hidePlaceholder: function (a) {
    var b = this, c = b.getInput(), d = b.getPlaceholder();
    d && (d.style.display = a === !1 ? "block" : "force" === a ? "none" : c.value ? "none" : "block")
  }, showPlaceholder: function () {
    this.hidePlaceholder(!1)
  }, hideEye: function (a) {
    var b = this, c = b.getInput(), d = b.getEye();
    d && (d.style.display = a === !1 ? "block" : "force" === a ? "none" : c.value ? "block" : "none")
  }, showEye: function () {
    this.hideEye(!1)
  }, onkeypress: new Function, onkeydown: new Function, onkeyup: new Function, onenter: new Function, onfocus: new Function, onblur: new Function, onchange: new Function, onmousedown: function () {
    var a = this, b = a.getMain ? a : hui.Control.getById(a.control);
    a = b.getMain(), b.old_type = a.type, b.main_text || (b.main_text = document.createElement("SPAN"), b.main_text.innerHTML = a.outerHTML.replace(/type\=\"?password\"?/i, 'type="text" '), b.main_text.childNodes[0].style.marginLeft = "0px", a.parentNode.appendChild(b.main_text), a.parentNode.insertBefore(b.main_text, a.nextSibling)), b.main_text.childNodes[0].value = a.value, b.main_text.style.display = "block", a.style.display = "none"
  }, onmouseup: function () {
    var a = this, b = a.getMain ? a : hui.Control.getById(a.control);
    a = b.getMain(), a.type = b.old_type || "text", b.main_text && (b.main_text.style.display = "none", a.style.display = "block", a.parentNode.removeChild(b.main_text), b.main_text = null)
  }, focusAndSelect: function () {
    this.getMain().select()
  }, dispose: function () {
    var a = this.getMain();
    a.onkeypress = null, a.onchange = null, a.onpropertychange = null, a.onfocus = null, a.onblur = null, hui.Control.prototype.dispose.call(this)
  }}, hui.inherits(hui.TextInput, hui.Control)
}), hui.define("hui_util", ["hui"], function () {
  hui.util = {}, hui.util.g = function (a, b) {
    if (b) {
      if (!hui.bocument || b != hui.bocument && b != hui.bocument.body) {
        var c, d, e, f, g, h, i;
        for (f = [], g = [b]; g.length;)if (e = g.pop()) {
          if (e.id == a)break;
          if (f.push(e), h = e.childNodes, h && !(h.length < 1))for (c = 0, d = h.length; d > c; c++)i = h[c], g.push(i)
        }
        return e.id == a ? e : null
      }
      return hui.bocument.getElementById(a)
    }
    return document.getElementById(a)
  }, hui.util.c = function (a, b, c) {
    if (document.getElementsByClassName) {
      var d = (b || document).getElementsByClassName(a), e = d;
      if (void 0 !== c) {
        e = [];
        for (var f = 0, g = d.length; g > f; f++)("*" === c || d[f].tagName.toUpperCase() === c.toUpperCase()) && e.push(d[f])
      }
      return e
    }
    a = null !== a ? String(a).replace(/\s+/g, " ") : "", b = b || document, c = c || "*";
    for (var h, i, j = a.split(" "), k = "*" === c && b.all ? b.all : b.getElementsByTagName(c), l = [], m = [], f = j.length; --f >= 0;)l.push(new RegExp("(^|\\s)" + j[f] + "(\\s|$)"));
    for (var n = k.length; --n >= 0;) {
      h = k[n], i = !1;
      for (var o = 0, p = l.length; p > o && (i = l[o].test(h.className), i); o++);
      i && m.push(h)
    }
    return m
  }, hui.util.cc = function (a, b, c) {
    return hui.util.c(a, b, c)[0]
  }, hui.util.t = function (a, b) {
    return b = b || document, b.getElementsByTagName(a)
  }, hui.util.appendHTML = function (a, b) {
    var c = document.createElement("DIV");
    c.innerHTML = b, a.appendChild(c);
    for (var d = [], e = 0, f = c.childNodes.length; f > e; e++)d[e] = c.childNodes[e];
    for (var e = 0, f = d.length; f > e; e++)a.appendChild(d[e]);
    a.removeChild(c)
  }, hui.util.getDom = function (a) {
    var b = [], c = document.createElement("DIV");
    c.innerHTML = a;
    for (var d = 0, e = c.childNodes.length; e > d; d++)1 == c.childNodes[d].nodeType && b.push(c.childNodes[d]);
    return b
  }, hui.util.findParentByClassName = function (a, b) {
    for (var c = null; a && a.tagName;) {
      if (a && $(a).hasClass(b)) {
        c = a;
        break
      }
      if (~"html,body".indexOf(String(a.tagName).toLowerCase()))break;
      a = a.parentNode
    }
    return c
  }, hui.util.findSiblingByClassName = function (a, b, c) {
    var d = null, e = a;
    if (!c || "next" == c || "last" == c)for (; e && (!$(e).hasClass(b) || (d = e, "last" === c || e === a));)e = e.nextSibling;
    if (!c || "pre" == c || "first" == c)for (; e && (!$(e).hasClass(b) || (d = e, "first" === c || e === a));)e = e.previousSibling;
    return d
  }, hui.util.hasClass = function (a, b) {
    return~(" " + a.className + " ").indexOf(" " + b + " ")
  }, hui.util.addClass = function (a, b) {
    if (~"[object Array][object NodeList]".indexOf(Object.prototype.toString.call(a)))for (var c = 0, d = a.length; d > c; c++)hui.util.addClass(a[c], b); else a && (hui.util.removeClass(a, b), a.className = (a.className + " " + b).replace(/(\s)+/gi, " "));
    return a
  }, hui.util.removeClass = function (a, b) {
    if (~"[object Array][object NodeList]".indexOf(Object.prototype.toString.call(a)))for (var c = 0, d = a.length; d > c; c++)hui.util.removeClass(a[c], b); else if (a) {
      for (var e, f, g = b.replace(/\s+/gi, " ").split(" "), h = " " + (a.className || "").replace(/(\s)/gi, "  ") + " ", c = 0, d = g.length; d > c; c++)e = g[c], e = e.replace(/(\*)/g, "\\S*").replace(/(\?)/g, "\\S?"), f = new RegExp(" " + e + " ", "ig"), h = h.replace(f, " ");
      h = h.replace(/(\s)+/gi, " "), h = h.replace(/^(\s)+/gi, "").replace(/(\s)+$/gi, ""), a.className = h
    }
    return a
  }, hui.util.getDocumentHead = function () {
    return document.head || document.getElementsByTagName("head")[0] || document.documentElement
  }, hui.util.hasCssString = function (a, b) {
    var c, d, e = !1;
    if (b = b || document, b.createStyleSheet && (c = b.styleSheets))for (var f = 0, g = c.length; g > f; f++) {
      if (d = c[f], d && d.owningElement && d.owningElement.id === a) {
        e = d.owningElement;
        break
      }
      if (d && d.ownerNode && d.ownerNode.id === a) {
        e = d.ownerNode;
        break
      }
    } else if (c = b.getElementsByTagName("style"))for (var f = 0, g = c.length; g > f; f++)if (d = c[f], d.id === a) {
      e = d;
      break
    }
    return e
  }, hui.util.removeCssString = function (a, b) {
    var c, d = hui.util.hasCssString(a, b);
    d && (c = d.parentNode, c.removeChild(d))
  }, hui.util.importCssString = function (a, b, c) {
    hui.util.removeCssString(b, c), c = c || document;
    var d = document.createElement("style");
    b && (d.id = b);
    var e = c.body || c.head || c.documentElement;
    return e.insertBefore(d, e.lastChild), e !== c.documentElement && d.nextSibling && e.insertBefore(d.nextSibling, d), d.setAttribute("type", "text/css"), d.styleSheet ? d.styleSheet.cssText = a : d.appendChild(document.createTextNode(a)), d
  }, hui.util.insertCssRule = function (a, b) {
    var c, d = document.getElementsByTagName("style"), e = d && d.length ? d[d.length - 1] : hui.util.importCssString(""), f = e.sheet ? e.sheet : e.styleSheet, g = f.cssRules || f.rules, h = g.length, i = a.indexOf("{");
    -1 !== i && (c = a.indexOf("}", i + 1), b = a.substring(i + 1, -1 === c ? a.length : c), a = a.substring(0, i)), b = String(b).replace(/(^\s+|\s+$)/g, ""), 0 === b.indexOf("{") && (b = b.substring(1, b.length)), b.indexOf("}") === b.length - 1 && (b = b.substring(0, b.length - 2)), f.insertRule ? f.insertRule(a + "{" + b + "}", h) : f.addRule && f.addRule(a, b, h)
  }, hui.util.addCssRule = hui.util.insertCssRule, hui.util.importCssStylsheet = function (a) {
    if (document.createStyleSheet)document.createStyleSheet(a); else {
      var b = hui.util.createElement("link");
      b.rel = "stylesheet", b.href = a, hui.util.getDocumentHead().appendChild(b)
    }
  }, hui.util.format = function (a, b) {
    a = String(a);
    var c = Array.prototype.slice.call(arguments, 1), d = Object.prototype.toString;
    return c.length ? (c = 1 == c.length && null !== b && /\[object (Array|Object)\]/.test(d.call(b)) ? b : c, a.replace(/#\{(.+?)\}/g, function (a, b) {
      for (var e, f = b.split("."), g = f.shift(), h = c; g;) {
        if (void 0 === h[g]) {
          h = void 0;
          break
        }
        h = h[g], g = f.shift()
      }
      return e = h, "[object Function]" === d.call(e) && (e = e(b)), void 0 === e ? "" : e
    })) : a
  }, hui.util.sortBy = function (a, b, c) {
    return a && a.sort && a.length && a.sort(function (a, d) {
      var e, f;
      return e = String(a[b]).toLowerCase(), f = String(d[b]).toLowerCase(), String(parseInt("0" + e, 10)) == e && String(parseInt("0" + f, 10)) == f ? (e = parseInt(e, 10), f = parseInt(f, 10)) : e > f ? (e = 1, f = -e) : f > e ? (e = -1, f = -e) : (e = 1, f = e), "desc" == c ? f - e : e - f
    }), a
  }, hui.util.on = function (a, b, c) {
    a.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent && a.attachEvent("on" + b, c)
  }, hui.util.off = function (a, b, c) {
    a.removeEventListener && a.removeEventListener(b, c, !1), a.detachEvent && a.detachEvent("on" + b, c)
  }, hui.util.onenter = function (a, b) {
    $(a).on("keypress", function (c) {
      c = c || hui.window.event;
      var d = c.keyCode || c.which;
      13 == d && (a.onenter && a.onenter(), b(a))
    })
  }, hui.util.onesc = function (a, b) {
    $(a).on("keypress", function (c) {
      c = c || hui.window.event;
      var d = c.keyCode || c.which;
      27 == d && (a.onesc && a.onesc(), b(a))
    })
  }, hui.util.fn = function (a, b) {
    if ("[object String]" === Object.prototype.toString.call(a) && (a = b[a]), "[object Function]" !== Object.prototype.toString.call(a))throw'Error "hui.util.fn()": "func" is null';
    var c = arguments.length > 2 ? [].slice.call(arguments, 2) : null;
    return function () {
      var d = "[object String]" == Object.prototype.toString.call(a) ? b[a] : a, e = c ? c.concat([].slice.call(arguments, 0)) : arguments;
      return d.apply(b || d, e)
    }
  }, hui.util.inherits = function (a, b) {
    var c = new Function;
    c.prototype = b.prototype;
    var d = a.prototype;
    a.prototype = new c;
    for (var e in d)d.hasOwnProperty(e) && (a.prototype[e] = d[e]);
    a.prototype.constructor = a, a.superClass = b
  }, hui.util.extend = function (a, b) {
    for (var c in b)b.hasOwnProperty(c) && (a[c] = b[c])
  }, hui.util.derive = function (a, b) {
    var c = new b;
    for (var d in c)c.hasOwnProperty(d) && void 0 === a[d] && (a[d] = c[d])
  }, hui.util.getObjectByName = function (a, b) {
    for (var c, d = a.split("."), e = b || hui.window; e && (c = d.shift());)e = e[c];
    return e
  }, hui.util.clone = function (a, b, c) {
    if ("undefined" == typeof a)return void 0;
    if ("undefined" != typeof JSON)return JSON.parse(JSON.stringify(a));
    var d, e, f, g, h = a, i = -1;
    if (b = b || [], c = c || [], a instanceof Date)h = new Date(a.getTime()); else if (a instanceof Array || "[object Object]" == Object.prototype.toString.call(a)) {
      for (f = 0, g = b.length; g > f; f++)if (b[f] == a) {
        i = f;
        break
      }
      if (-1 != i)h = c[i], i = -1; else if (a instanceof Array) {
        h = [], b.push(a), c.push(h);
        var j = 0;
        for (d = 0, e = a.length; e > d; d++)h[j++] = hui.util.clone(a[d], b, c)
      } else if (a && "[object Object]" == Object.prototype.toString.call(a)) {
        h = {}, b.push(a), c.push(h);
        for (d in a)a.hasOwnProperty(d) && (h[d] = hui.util.clone(a[d], b, c))
      }
    }
    return h
  }, hui.util.getCookie = function (a) {
    var b = document.cookie.indexOf(a + "="), c = b + a.length + 1;
    if (!b && a != document.cookie.substring(0, a.length))return void 0;
    if (-1 == b)return void 0;
    var d = document.cookie.indexOf(";", c);
    return-1 == d && (d = document.cookie.length), unescape(document.cookie.substring(c, d))
  }, hui.util.setCookie = function (a, b, c, d, e, f) {
    c = c || 864e5;
    var g = new Date((new Date).getTime() + c);
    document.cookie = a + "=" + escape(b) + (c ? ";expires=" + g.toGMTString() : "") + (d ? ";path=" + d : "") + (e ? ";domain=" + e : "") + (f ? ";secure" : "")
  }, hui.util.removeCookie = function (a, b, c) {
    hui.util.getCookie(a) && (document.cookie = a + "=" + (b ? ";path=" + b : "") + (c ? ";domain=" + c : "") + ";expires=Thu, 01-Jan-1970 00:00:01 GMT")
  }, hui.util.formatDate = function (a, b) {
    a || (a = new Date), b = b || "yyyy-MM-dd HH:mm";
    var c = {"M+": a.getMonth() + 1, "d+": a.getDate(), "h+": a.getHours() % 12 === 0 ? 12 : a.getHours() % 12, "H+": a.getHours(), "m+": a.getMinutes(), "s+": a.getSeconds(), "q+": Math.floor((a.getMonth() + 3) / 3), S: a.getMilliseconds()}, d = {0: "/u65e5", 1: "/u4e00", 2: "/u4e8c", 3: "/u4e09", 4: "/u56db", 5: "/u4e94", 6: "/u516d"};
    /(y+)/.test(b) && (b = b.replace(RegExp.$1, (a.getFullYear() + "").substr(4 - RegExp.$1.length))), /(E+)/.test(b) && (b = b.replace(RegExp.$1, (RegExp.$1.length > 1 ? RegExp.$1.length > 2 ? "/u661f/u671f" : "/u5468" : "") + d[a.getDay() + ""]));
    for (var e in c)c.hasOwnProperty(e) && new RegExp("(" + e + ")").test(b) && (b = b.replace(RegExp.$1, 1 == RegExp.$1.length ? c[e] : ("00" + c[e]).substr(("" + c[e]).length)));
    return b
  }, hui.util.parseDate = function (a) {
    a = String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/gi, "");
    var b = null;
    return b = a.match(/^ *(\d{10}) *$/), b && b.length > 0 ? new Date(1e3 * parseInt(a, 10)) : (b = a.match(/^ *(\d{13}) *$/), b && b.length > 0 ? new Date(parseInt(a, 10)) : (b = a.match(/^ *(\d{4})(\d{2})(\d{2}) *$/), b && b.length > 3 ? new Date(parseInt(b[1], 10), parseInt(b[2], 10) - 1, parseInt(b[3], 10)) : (b = a.match(/^ *(\d{4})(\d{2})(\d{2}) +(\d{2})(\d{2}) *$/), b && b.length > 6 ? new Date(parseInt(b[1], 10), parseInt(b[2], 10) - 1, parseInt(b[3], 10), parseInt(b[4], 10), parseInt(b[5], 10)) : (b = a.match(/^ *(\d{4})[\._\-\/\\](\d{1,2})[\._\-\/\\](\d{1,2}) *$/), b && b.length > 3 ? new Date(parseInt(b[1], 10), parseInt(b[2], 10) - 1, parseInt(b[3], 10)) : (b = a.match(/^ *(\d{4})[\._\-\/\\](\d{1,2})[\._\-\/\\](\d{1,2}) +(\d{1,2}):(\d{1,2}) *$/), b && b.length > 6 ? new Date(parseInt(b[1], 10), parseInt(b[2], 10) - 1, parseInt(b[3], 10), parseInt(b[4], 10), parseInt(b[5], 10)) : (b = a.match(/^ *(\d{4})[\._\-\/\\](\d{1,2})[\._\-\/\\](\d{1,2}) +(\d{1,2}):(\d{1,2}):(\d{1,2}) *$/), b && b.length > 6 ? new Date(parseInt(b[1], 10), parseInt(b[2], 10) - 1, parseInt(b[3], 10), parseInt(b[4], 10), parseInt(b[5], 10), parseInt(b[6], 10)) : new Date(a)))))))
  }, hui.util.encode = function (a, b) {
    a = String(a);
    var c = "%| |&|;|=|+|<|>|,|\"|'|#|/|\\|\n|\r|	".split("|"), d = "%25|%20|%26|%3B|%3D|%2B|%3C|%3E|%2C|%22|%27|%23|%2F|%5C|%0A|%0D|%09".split("|");
    if ("decode" == b)for (var e = c.length - 1; e > -1; e--)a = a.replace(new RegExp("\\" + d[e], "ig"), c[e]); else for (var e = 0, f = c.length; f > e; e++)a = a.replace(new RegExp("\\" + c[e], "ig"), d[e]);
    return a
  }, hui.util.decode = function (a) {
    return this.encode(a, "decode")
  }, hui.util.setInnerHTML = function (a, b) {
    a = a && a.getMain ? a.getMain() : a, a && void 0 !== a.innerHTML && (a.innerHTML = b)
  }, hui.util.setInnerText = function (a, b) {
    a && (void 0 !== a.textContent ? a.textContent = b : a.innerText = b)
  }, hui.g = hui.util.g, hui.c = hui.util.c, hui.cc = hui.util.cc, hui.t = hui.util.t, hui.appendHTML = hui.util.appendHTML, hui.hasClass = hui.util.hasClass, hui.addClass = hui.util.addClass, hui.removeClass = hui.util.removeClass, hui.format = hui.util.format, hui.sortBy = hui.util.sortBy, hui.on = hui.util.on, hui.off = hui.util.off, hui.onenter = hui.util.onenter, hui.fn = hui.util.fn, hui.inherits = hui.util.inherits, hui.extend = hui.util.extend, hui.derive = hui.util.derive, hui.getObjectByName = hui.util.getObjectByName, hui.clone = hui.util.clone, hui.getCookie = hui.util.getCookie, hui.setCookie = hui.util.setCookie, hui.removeCookie = hui.util.removeCookie, hui.formatDate = hui.util.formatDate, hui.parseDate = hui.util.parseDate, hui.setInnerHTML = hui.util.setInnerHTML, hui.setInnerText = hui.util.setInnerText
}), hui.define("hui_validator", ["hui@0.0.1"], function () {
  hui.Validator = {errorMsg: {SUCCESS: "", ERROR_EMPTY: "不能为空", ERROR_REGEX: "格式错误", ERROR_INT: "格式错误，请输入整数", ERROR_NUMBER: "格式错误，请输入数字", ERROR_MIN: "不能小于#{0}", ERROR_MIN_DATE: "不能早于#{0}", ERROR_MAX: "不能多于#{0}", ERROR_MAX_DATE: "不能晚于#{0}", ERROR_GT: "必须大于#{0}", ERROR_GT_DATE: "必须晚于#{0}", ERROR_LT: "必须少于#{0}", ERROR_LT_DATE: "必须早于#{0}", ERROR_RANGE: "范围须在#{0}与#{1}", ERROR_LENGTH: "长度不等于#{0}", ERROR_MIN_LENGTH: "长度不能小于#{0}", ERROR_MAX_LENGTH: "长度不能大于#{0}", ERROR_LENGTH_RANGE: "长度不能超出范围(#{0}, #{1})", ERROR_CALENDAR: "日历格式错误，正确格式2010-01-01", ERROR_EXT: "扩展名不合法，只允许#{0}", ERROR_BACKEND: " #{0}"}, config: {waitingClass: "validate_waiting", okClass: "validate_ok", errorClass: "validate_error", validClass: "validate", iconClass: "validate_icon", textClass: "validate_text", suffix: "validate", iconSuffix: "validateIcon", textSuffix: "validateText"}, parse: function (a, b) {
    return"int" === b ? parseInt(a, 10) : "float" === b ? parseFloat(a) : "date" === b ? hui.Validator.parseDate(a) : a
  }, setInnerHTML: function (a, b) {
    a = a && a.getMain ? a.getMain() : a, a && void 0 !== a.innerHTML && (a.innerHTML = b)
  }, getControl: function (a) {
    var b = a && a.getMain ? a.getMain() : a && a.main ? document.getElementById(a.main) : a;
    return b
  }, showError: function (a, b) {
    var c = hui.Validator;
    c.showNoticeDom(a, b, "errorClass")
  }, showOK: function (a, b) {
    var c = hui.Validator;
    c.showNoticeDom(a, b, "okClass")
  }, showWaiting: function (a, b) {
    var c = hui.Validator;
    c.showNoticeDom(a, b, "waitingClass")
  }, showNoticeDom: function (a, b, c) {
    var d = hui.Validator, e = d.getControl(a), f = e.parentNode;
    d.getValidateElem(e) || d.createNoticeElement(e, f), d.getTextEl(e) && d.createNoticeTextElem(e), $(f).removeClass(d.config.okClass + " " + d.config.errorClass + " " + d.config.waitingClass), $(f).addClass(d.config[c]), b = void 0 === b ? "" : b, d.setInnerHTML(d.getTextEl(a), b)
  }, createNoticeElement: function (a, b) {
    var c = hui.Validator, d = a.id, e = c.getValidateElem(a), f = c.getTextEl(a);
    return e || (e = document.createElement("div"), e.id = d + "_" + c.config.suffix, e.className = c.config.validClass, b.appendChild(e)), f || c.createNoticeTextElem(a), e
  }, createNoticeTextElem: function (a) {
    var b, c = hui.Validator, d = a.id, e = c.getValidateElem(a), f = c.getTextEl(a);
    e && !f && (b = document.createElement("div"), b.id = d + "_" + c.config.iconSuffix, b.className = c.config.iconClass, e.appendChild(b), f = document.createElement("div"), f.id = d + "_" + c.config.textSuffix, f.className = c.config.textClass, e.appendChild(f))
  }, cancelNotice: function (a) {
    var b = hui.Validator, c = b.getControl(a), d = c.parentNode;
    $(d).removeClass(b.config.errorClass + " " + b.config.okClass + " " + b.config.waitingClass), d.lastChild.className && "validate" === d.lastChild.className.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") && d.removeChild(d.lastChild)
  }, hideError: function (a) {
    this.cancelNotice(a)
  }, getTextEl: function (a) {
    var b, c = this, d = a, a = c.getControl(d);
    return b = document.getElementById(a.id + "_" + c.config.textSuffix)
  }, getValidateElem: function (a) {
    var b, c = this, d = a, a = c.getControl(d);
    return b = document.getElementById(a.id + "_" + c.config.suffix)
  }, getSegElement: function (a, b) {
    var c = document.getElementById(b);
    return c
  }, applyRule: function (a, b, c) {
    if (!a || !a.getValue && null === a.value || !b)return!0;
    var d, e = this, f = b.split(","), g = e.ruleMap[f[0]], h = "", i = a.getValue ? a.getValue(!0) : a.value;
    if (i = void 0 === i ? a.getMain().value : i, f[0] = i, "checkbox" == a.type && (i = a.getChecked() || a.checked, f[0] = i), d = g.validate.apply(a, f), 0 === d || "SUCCESS" === d || ("[object String]" == Object.prototype.toString.call(d) && "" !== d ? h = e.errorMsg[d] : "[object Array]" === Object.prototype.toString.call(d) ? h = hui.Validator.format(e.errorMsg[d[0]], d.splice(1, d.length)) : 0 !== d && (h = "object" == typeof g.noticeText ? g.noticeText[d] : g.noticeText)), "not_show" !== c)if (0 === d || "SUCCESS" === d) {
      var j = g.showOK || e.showOK;
      j(a, h)
    } else {
      var k = g.showError || e.showError;
      k(a, h)
    }
    return!h
  }}, hui.Validator.format = hui.util.format, hui.Validator.parseDate = hui.util.parseDate, hui.Validator.ruleMap = {required: {validate: function (a) {
    return!a || "[object String]" == Object.prototype.toString.call(a) && "" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "ERROR_EMPTY" : "SUCCESS"
  }}, ext: {validate: function (a) {
    if ("" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, ""))return"ERROR_EMPTY";
    var b = Array.prototype.slice.call(arguments, 1), c = a.lastIndexOf(".");
    if (-1 == c)return["ERROR_EXT", b.join(",")];
    for (var d = a.substring(c + 1).toLowerCase(), e = 0, f = b.length; f > e; e++)if (b[e].toLowerCase() == d)return"SUCCESS";
    return["ERROR_EXT", b.join(",")]
  }}, regex: {validate: function (a, b, c) {
    return"" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "SUCCESS" : new RegExp(b, c).test(a) ? "SUCCESS" : "ERROR_REGEX"
  }}, "int": {validate: function (a) {
    return"" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "SUCCESS" : isNaN(a - 0) || a.indexOf(".") >= 0 ? "ERROR_INT" : "SUCCESS"
  }}, number: {validate: function (a) {
    return"" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "SUCCESS" : isNaN(a - 0) ? "ERROR_NUMBER" : "SUCCESS"
  }}, min: {validate: function (a, b, c) {
    return"" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "SUCCESS" : hui.Validator.parse(a, c) < hui.Validator.parse(b, c) ? ["date" === c ? "ERROR_MIN_DATE" : "ERROR_MIN", b] : "SUCCESS"
  }}, gt: {validate: function (a, b, c) {
    return"" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "SUCCESS" : hui.Validator.parse(a, c) <= hui.Validator.parse(b, c) ? ["date" === c ? "ERROR_GT_DATE" : "ERROR_GT", b] : "SUCCESS"
  }}, max: {validate: function (a, b, c) {
    return"" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "SUCCESS" : hui.Validator.parse(a, c) > hui.Validator.parse(b, c) ? ["date" === c ? "ERROR_MAX_DATE" : "ERROR_MAX", b] : "SUCCESS"
  }}, lt: {validate: function (a, b, c) {
    return"" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "SUCCESS" : hui.Validator.parse(a, c) >= hui.Validator.parse(b, c) ? ["date" === c ? "ERROR_LT_DATE" : "ERROR_LT", b] : "SUCCESS"
  }}, range: {validate: function (a, b, c, d) {
    return"" === String(a).replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g, "") ? "SUCCESS" : hui.Validator.parse(a, d) - hui.Validator.parse(c, d) > 0 || hui.Validator.parse(a, d) - hui.Validator.parse(b, d) < 0 ? ["ERROR_RANGE", b, c] : "SUCCESS"
  }}, length: {validate: function (a, b) {
    return a.length !== b ? ["ERROR_LENGTH", b] : "SUCCESS"
  }}, min_length: {validate: function (a, b) {
    return a.length < b ? ["ERROR_MIN_LENGTH", b] : "SUCCESS"
  }}, max_length: {validate: function (a, b) {
    return a.length > b ? ["ERROR_MAX_LENGTH", b] : "SUCCESS"
  }}, length_range: {validate: function (a, b, c) {
    return a.length < b || a.length > c ? ["ERROR_LENGTH_RANGE", b, c] : "SUCCESS"
  }}, not_empty: {validate: function (a) {
    return null === a || void 0 === a || "" === a ? 1 : 0
  }, noticeText: {1: "不能为空"}}, backend_error: {validate: function (a, b) {
    return["ERROR_BACKEND", b.errorMessage]
  }}}, hui.Validator.setRule = function (a, b, c) {
    if (!c && hui.Validator.ruleMap[a])throw{title: "hui.Validator.setRule() Error: ", name: 'rule "' + a + '" exist.'};
    hui.Validator.ruleMap[a] = b
  }, hui.Validator.getRule = function (a) {
    return hui.Validator.ruleMap[a]
  }, hui.Validator.setRule("username", {validate: function (a) {
    var b = a.length;
    if (0 === b)return 1;
    if (2 > b || b > 12 || !/^[_a-zA-Z\d\u4E00-\uFA29]+$/.test(a))return 2;
    if ("" === a.replace(/[0-9]/gi, ""))return 3;
    var c = this;
    return c.existValue == a && "exist" == c.isExist ? 4 : 0
  }, noticeText: {1: "用户名不能为空", 2: "用户名由2-12位字母,数字,下划线,中文组成,不含标点符号", 3: "用户名应至少包含一个字母或汉字", 4: "用户名已存在"}}, "force"), hui.Validator.setRule("accountname", {validate: function (a) {
    return 0 === a.length ? 1 : 0
  }, noticeText: {1: "用户名不能为空"}}, "force"), hui.Validator.setRule("accountpassword", {validate: function (a) {
    return 0 === a.length ? 1 : 0
  }, noticeText: {1: "密码不能为空"}}, "force"), hui.Validator.setRule("password", {validate: function (a, b, c) {
    var d = a.length;
    if (0 === d)return 1;
    if (6 > d)return 2;
    if (b) {
      var e = hui.Control.getById(b, c) || hui.Control.getByFormName(b, c), f = e.getValue();
      if (a === f)return 4;
      for (var g = ["000000", "111111", "1111111", "11111111", "112233", "123123", "123321", "123456", "12345678", "654321", "666666", "888888", "abcdef", "abcabc", "abc123", "a1b2c3", "aaa111", "123qwe", "qwerty", "qweasd", "admin", "password", "p@ssword", "passwd", "iloveyou", "5201314", "password", "123456", "12345678", "qwerty", "abc123", "monkey", "1234567", "letmein", "trustno1", "dragon", "baseball", "111111", "iloveyou", "master", "sunshine", "ashley", "bailey", "passw0rd", "shadow", "123123", "654321", "superman", "qazwsx", "michael", "football"], h = 0; h < g.length; h++)if (a == g[h])return 3
    }
    return 0
  }, noticeText: {1: "密码不能为空", 2: "密码至少6位", 3: "请不要使用弱密码", 4: "密码不能与用户名相同"}, checkStrong: function (a) {
    var b;
    if ("" === a)return b = -1;
    if (b = 0, a = a.replace(/\s/g, ""), a.length <= 5)return b;
    var c;
    return c = a.replace(/[a-z]/g, ""), c !== a && b++, a = c, c = a.replace(/[A-Z]/g, ""), c !== a && b++, a = c, c = a.replace(/[0-9]/g, ""), c !== a && b++, a = c, c.length > 0 && b++, a = c, b > 3 && (b = 3), b
  }}, "force"), hui.Validator.setRule("validationcode", {validate: function (a) {
    var b = /^\d{6}$/.test(a);
    return 0 === a.length ? 1 : a && !b ? 2 : 0
  }, noticeText: {1: "短信验证码不能为空", 2: "短信验证码格式不正确"}}, "force"), hui.Validator.setRule("mobile", {validate: function (a) {
    var b = a.length;
    a = a.replace(/[^0-9]/gi, ""), a = a.replace(/^86/gi, "");
    var c = /^(13\d|15\d|18\d|14\d|17\d)\d{8}$/.test(a);
    if (0 === b)return 1;
    if (11 !== b)return 2;
    if (!c)return 3;
    var d = this;
    return d.existValue == a && "exist" == d.isExist ? 4 : 0
  }, noticeText: {1: "手机号码不能为空", 2: "手机号码由11位数字组成", 3: "目前只支持13*、15*、18*、14*、17*号段", 4: "手机号已存在"}}, "force"), hui.Validator.setRule("email", {validate: function (a) {
    var b = a.length;
    if (0 === b)return 1;
    if (b > 64)return 2;
    if (!/^([^@\s\u4E00-\uFA29]+)@((?:[-a-zA-Z0-9]+\.)+[a-zA-Z]{2,})$/gi.test(a))return 3;
    var c = this;
    return c.existValue == a && "exist" == c.isExist ? 4 : 0
  }, noticeText: {1: "邮箱地址不能为空", 2: "邮箱地址不能超过64位", 3: "邮箱地址格式错误", 4: "邮箱地址已存在"}}, "force")
}), function (a) {
  hui.createRegModule = function (b, c, d) {
    d = d || hui.Control;
    var e = b.toLowerCase(), f = {render: function () {
      hui[b].superClass.prototype.render.call(this), hui.Control.init(this.getMain(), (hui.Action ? hui.Action.get() : {}).model, this)
    }};
    hui[b] = function (a, c) {
      this.isFormItem = !1, hui[b].superClass.call(this, a, "pending"), this.type = e, this.controlMap = {}, "pending" != c && this.enterControl()
    }, hui[b].prototype = a.extend({}, f, c), hui.inherits(hui[b], d)
  }
}(jQuery), function () {
  window.hui = window.hui || {}, hui.initData = {};
  var a = "http://i2.w.hjfile.cn/doc/201504/973998800ec947fe9bec0cf7f220f621.jpg";
  hui.initData.group = {"default": {groupID: 0}, k12: {needNextStep: !0, groupID: 1e3, title: "中小幼", qrcode: a}, language: {groupID: 2e3, title: "语言学习"}, study: {groupID: 3e3, title: "考研留学"}, career: {groupID: 4e3, title: "职场兴趣"}}, hui.initData.k12 = {kg: {title: "学龄前", grade: {k1: {id: 1001, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=7600dd86be1b01ce3c5d4f1841ec1fc90077f2d2bab4f65721accab242d9f9c0", btnTxt: "幼儿交流群", desc: "向名师请教难题，和百万家长分享经验", name: "0-3岁"}, k2: {id: 1002, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=7600dd86be1b01ce3c5d4f1841ec1fc90077f2d2bab4f65721accab242d9f9c0", btnTxt: "幼儿交流群", name: "4-5岁"}, k3: {id: 1003, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=7600dd86be1b01ce3c5d4f1841ec1fc90077f2d2bab4f65721accab242d9f9c0", btnTxt: "幼儿交流群", name: "6岁"}}}, ps: {title: "小学", grade: {p1: {id: 1010, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=629c206838acdad2e6c406e672f4a54a1114a7e44e3c32eac4564f7db0d62ce2", btnTxt: "一年级学习群", name: "一年级"}, p2: {id: 1011, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=9f4da00cc2b8246effd3197d39d5adcfa0f04331d24a00cc9a2f2891f3de771e", btnTxt: "二年级学习群", name: "二年级"}, p3: {id: 1012, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=b70b256692398ab91e77a8665abf6d65e105324fdcaae9e3a8b1d0ecef89ae97", btnTxt: "三年级学习群", name: "三年级"}, p4: {id: 1013, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=e790241e1946cd6edc55e1e0ff471282005501774fba967627bd279c46c6b4e5", btnTxt: "四年级学习群", name: "四年级"}, p5: {id: 1014, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=28f5b8bcd8397636a2f9c02aa7bd75b214aacfa29cb07e054c84a846af3feeaa", btnTxt: "五年级学习群", name: "五年级"}, p6: {id: 1015, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=47ef69f0e343dd73ddce9afd5e0b3be0eb3ced57742858c52679949bdc90eb4a", btnTxt: "六年级学习群", name: "六年级"}}}, ms: {title: "初中", grade: {m1: {id: 1020, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=823504318482c1c62f308cd2d9df434f3c20177029237cfd0626a4c89c0a1155", btnTxt: "初一学习群", name: "初一"}, m2: {id: 1021, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=2c65e75279b38bf07cb786e7c3977deb4f25304d81a02838a353676f785188d0", btnTxt: "初二学习群", name: "初二"}, m3: {id: 1022, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=bf6e8605cda38ef26f66700fe6b0f148ff48c2b95246f1721d85b0e003b64031", btnTxt: "初三学习群", name: "初三"}}}, hs: {title: "高中", grade: {h1: {id: 1030, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=65b59f2e208e54132e4e9788e07ca29155cd0bcd7a4d47943e6daa431f4705a6", btnTxt: "高一学习群", name: "高一"}, h2: {id: 1031, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=ee074755023f6440bca5b725818916d11812632a0010c1b82578a7c37fb8a305", btnTxt: "高二学习群", name: "高二"}, h3: {id: 1032, qrcode: a, qq: "http://shang.qq.com/wpa/qunwpa?idkey=1c602aaca78db4c0fd1b28a8dc3cb9222489d0a21eb9d738b13142d051f0034a", btnTxt: "高三学习群", name: "高三"}}}}, hui.initData.getInfoByID = function (a, b) {
    var c = hui.initData.group;
    if (b) {
      var d, e = hui.initData.k12;
      for (var f in e) {
        d = e[f];
        for (var g in d.grade)if (d.grade[g].id === b)return d.grade[g]
      }
    } else for (var h in c)if (c[h].groupID = a)return c[h];
    return null
  }, hui.initData.genK12Markup = function () {
    var a, b = hui.initData.k12, c = '<ul class="grade">';
    for (var d in b) {
      a = b[d], c += '<li><h4 class="tit-3">' + a.title + "</h4>", c += '<ul class="item">';
      for (var e in a.grade)c += '<li><a href="#" class="k12grade" data-cate="' + a.grade[e].id + '">' + a.grade[e].name + "</a></li>";
      c += "</ul></li>"
    }
    return c += "</ul>"
  }
}(), function () {
  window.hui = window.hui || {};
  var a = function () {
    return/hjclass\.com|class\.hujiang|cctalk\.com|mc\.hujiang\.com/.test(window.location.host) || /\/ctlogin.htm/.test(window.location.href) ? "none" : "block"
  };
  window.hui.tmpls = {getCaptcha: function () {
    return'<img alt="点击更换验证码" width="150" height="40" id="hj_captcha_img" class="hj001_captcha_img" onclick="this.src=this.getAttribute(\'src_bak\')+\'&\'+Math.random()" src_bak="' + hui.glob_vals.RESOURCE_HOST + '/captcha_v2.php?token=28c880b9635a58d351932ad844fa7510&amp;w=150&amp;h=40&amp;r=0.5453804655216155">'
  }, captcha_item: function (a) {
    return'<div class="hj001_item hj001_captcha_code" style="display:none;">     <input type="text" ui="type:\'TextInput\',formName:\'code\',rule:\'\',placeholder:\'验证码\',autoValidate:true,autoHideError:true,allowSpace:false,DBC2SBC:true" maxLength="16" class="hj001_ipt_short" tabindex="23">     <a class="hj001_send_btn hj_captcha_container" title="点击更换验证码" href="###">    ' + (a || "") + " </a></div>"
  }, pwd_wrap_item: function (a) {
    return"<div class=\"hj001_pwd_warp\">    <input type=\"password\" ui=\"type:'TextInput',formName:'password',rule:'password,username," + a + '\',placeholder:\'密码\',useEye:true,autoValidate:true,autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true" class="hj001_ipt" maxlength="20"  tabindex="4">    <div class="hj001_pwd_complex_warp hj001_complex_-1">        <i class="hj001_pwd_complex_bg"></i>        <i class="hj001_pwd_complex"></i>        <span class="hj001_pwd_complex_txt hj001_grade01">弱</span>        <span class="hj001_pwd_complex_txt hj001_grade02">中</span>        <span class="hj001_pwd_complex_txt hj001_grade03">强</span>    </div>        </div>'
  }, success_partial_item: function (a, b) {
    return'<div class="hj001_success">    <i class="hj001_icon_ok"></i>    <span class="hj001_span">恭喜您注册成功</span></div><p class="hj001_txt">通过学习，成就更好的自己！</br>畅学沪江网，和千万沪友一起进步！</p><div class="hj001_free hj001_free' + a + '" style="display:none"><a class="hj001_free_link hj001_free_link' + a + '" target="_blank" href="#" onclick="window.hjquicklogin.control.fireGlobalMonitor(\'' + b + '\')"><i class="hj001_free_hot_icon">i</i> <b class="hj001_free_hot_text">Hot !</b><span class="hj001_free_tip">完善信息，即可免费学人气课程&gt;&gt;</span></a></div>'
  }, email_item: function (a) {
    return'<div class="hj001_item" style="z-index:50">    <input type="text" ui="type:\'TextInput\',formName:\'email\',rule:\'email\',placeholder:\'邮箱\',autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true" class="hj001_ipt" maxlength="50"  tabindex="' + a + '" style="ime-mode: disabled">    <div class="hj001_email_list">        <div class="hj001_row hj001_first">请选择邮箱类型</div>        <div class="hj001_row"><a href="###" onclick="hui.Control.getByFormName(\'email\').choose(this)">123456@qq.com</a></div>        <div class="hj001_row"><a href="###" onclick="hui.Control.getByFormName(\'email\').choose(this)">123456@163.com</a></div>        <div class="hj001_row"><a href="###" onclick="hui.Control.getByFormName(\'email\').choose(this)">123456@126.com</a></div>        <div class="hj001_row"><a href="###" onclick="hui.Control.getByFormName(\'email\').choose(this)">123456@sina.com</a></div>        <div class="hj001_row"><a href="###" onclick="hui.Control.getByFormName(\'email\').choose(this)">123456@hotmail.com</a></div>        <div class="hj001_row"><a href="###" onclick="hui.Control.getByFormName(\'email\').choose(this)">123456@gmail.com</a></div>    </div></div>'
  }, otherlogin_item: '<div class="hj001_weixin_login"><a class="hj001_weixin_login_btn" href="#{weixin_login}"><i class="hj001_icon_weixin"></i><span>微信登录</span></a><a class="hj001_other_login_btn" onclick="hui.Control.getByFormName(\'hj_quicklogin\').toggleOtherLinks()">其他帐号登录</a><div class="hj001_other_login" id="other_login">    <b class="hj001_other_login_arrow">◆<b>◆</b></b>    <a target="_blank" href="http://app.hujiang.com/outapp/binds/qq/?returnurl=#{cur_location}"     onclick="hui.Control.getByFormName(\'hj_quicklogin\').monitorList[\'hj_reg_login_qq\'    ]()" class="hj001_login_link hj001_icon_qq"      ></a>    <a target="_blank" href="http://app.hujiang.com/outapp/binds/sina/?returnurl=#{cur_location}"   onclick="hui.Control.getByFormName(\'hj_quicklogin\').monitorList[\'hj_reg_login_weibo\' ]()" class="hj001_login_link hj001_icon_weibo"   ></a>    <a target="_blank" href="http://app.hujiang.com/outapp/binds/renren/?returnurl=#{cur_location}" onclick="hui.Control.getByFormName(\'hj_quicklogin\').monitorList[\'hj_reg_login_renren\']()" class="hj001_login_link hj001_icon_renren"  ></a>    <a target="_blank" href="http://app.hujiang.com/outapp/binds/baidu/?returnurl=#{cur_location}"  onclick="hui.Control.getByFormName(\'hj_quicklogin\').monitorList[\'hj_reg_login_baidu\' ]()" class="hj001_login_link hj001_icon_baidu"   ></a>    <a target="_blank" href="http://app.hujiang.com/outapp/binds/douban/?returnurl=#{cur_location}" onclick="hui.Control.getByFormName(\'hj_quicklogin\').monitorList[\'hj_reg_login_douban\']()" class="hj001_login_link hj001_icon_douban"  ></a>    <a target="_blank" href="http://app.hujiang.com/outapp/binds/alipay/?returnurl=#{cur_location}" onclick="hui.Control.getByFormName(\'hj_quicklogin\').monitorList[\'hj_reg_login_zhifu\' ]()" class="hj001_login_link hj001_icon_zhifu"   ></a></div></div><hr class="hj001_clearfix" />', agreement_item: '<div class="hj001_agreement">   <div class="hui_checkbox" ui="type:\'Checkbox\',formName:\'agree\',value:\'agree\',checked:\'checked\'">       <label class="hui_checkbox_label">同意沪江的《<a target="_blank" onclick="event.cancelBubble = true;event.stopPropagation&&event.stopPropagation();" href="http://pass.hujiang.com/signup/agreement/">用户协议</a>》</label>   </div></div>', weixinRegister_item: function () {
    return'<div class="hj001_weixin_register" style="display:' + a() + ';"><a class="hj001_weixin_register_btn" href="#{weixin_register}"><i class="hj001_icon_weixin"></i><span>微信扫码，快速注册</span></a></div>'
  }, hj_reg_mobile: function () {
    return'   <div class="hj001_dialog" ui="type:\'HJ_Reg_mobile\',formName:\'hj_reg_mobile\'" style="display:none"><div class="hj001_title">    <div class="hj001_title_item hj001_title_item_mobile hj001_title_item_selected">手机注册</div>    <div class="hj001_title_item"><a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_email\', \'inner\')">邮箱注册</a></div>    <a href="###" class="hj001_title_login" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_login\', \'inner\')">        <span class="hj001_title_login_txt">登录</span>         <span class="hj001_icon_gt">〉</span></a></div><div class="hj001_login_warp">    <div class="hj001_item">        <input type="text" ui="type:\'TextInput\',formName:\'mobile\',rule:\'mobile\',placeholder:\'手机号\',autoValidate:true,autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true"  class="hj001_ipt" maxlength="11" tabindex="1">    </div>' + this.captcha_item(this.getCaptcha()) + '           <div class="hj001_item">               <input type="text" ui="type:\'TextInput\',formName:\'validationcode\',rule:\'validationcode\',placeholder:\'短信验证码\',autoValidate:true,autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true" class="hj001_ipt_short" maxlength="6" tabindex="2">               <a class="hj001_send_btn hui_btn" ui="type:\'Button\',formName:\'sendsms\',disabled:true" href="###"><span class="hui_btn_label">获取短信验证码</span></a>           </div>           <div class="hj001_item">               <input ui="type:\'TextInput\',formName:\'username\',rule:\'username\',placeholder:\'用户名\',autoValidate:true,autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true" type="text" class="hj001_ipt" maxlength="12" tabindex="3">           </div>' + this.pwd_wrap_item("hj_reg_mobile") + this.agreement_item + '       </div>       <a href="###" ui="type:\'Button\',formName:\'submit\',disabled:\'true\'" class="hj001_login_btn" tabindex="5">注&nbsp;&nbsp;册</a>       <a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_email\', \'inner\')" class="hj001_another">选择邮箱注册</a>' + this.weixinRegister_item() + "   </div>"
  }, hj_reg_email: function () {
    return'   <div class="hj001_dialog" ui="type:\'HJ_Reg_email\',formName:\'hj_reg_email\'" style="display:none;">       <div class="hj001_title">           <div class="hj001_title_item hj001_title_item_mobile"><a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_mobile\', \'inner\', true)">手机注册</a></div>           <div class="hj001_title_item hj001_title_item_selected">邮箱注册</div>           <a href="###" class="hj001_title_login" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_login\', \'inner\')">               <span class="hj001_title_login_txt">登录</span>                <span class="hj001_icon_gt">〉</span></a>       </div>       <div class="hj001_login_warp">' + this.email_item("1") + this.captcha_item() + '           <div class="hj001_item">               <input ui="type:\'TextInput\',formName:\'username\',rule:\'username\',placeholder:\'用户名\',autoValidate:true,autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true" type="text" class="hj001_ipt" maxlength="12" tabindex="3">           </div>' + this.pwd_wrap_item("hj_reg_email") + this.agreement_item + '       </div>       <a href="###" ui="type:\'Button\',formName:\'submit\',disabled:\'true\'" class="hj001_login_btn"  tabindex="14">注&nbsp;&nbsp;册</a>       <a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_mobile\', \'inner\')" class="hj001_another">选择手机注册</a>' + this.weixinRegister_item() + "   </div>"
  }, hj_reg_login: function () {
    return'   <div class="hj001_dialog" ui="type:\'HJ_Reg_login\',formName:\'hj_reg_login\'" style="display:none;">       <div class="hj001_title">           <div class="hj001_title_item hj001_title_item_mobile hj001_title_item_selected">用户登录</div>           <div class="hj001_title_item"><a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_onekey\', \'inner\')">免注册一键登录</a></div>           <a href="###" class="hj001_title_login" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(window.hjquicklogin.prefer === \'email\' ? \'hj_reg_email\' : \'hj_reg_mobile\', \'inner\')">               <span class="hj001_title_login_txt">注册</span>                <span class="hj001_icon_gt">〉</span></a>       </div>       <div class="hj-login-loginarea">       <div class="hj001_login_warp hj001_panel_login">           <div class="hj001_item">               <input ui="type:\'TextInput\',formName:\'account\',rule:\'accountname\',placeholder:\'用户名/手机号/邮箱\',autoValidate:true,autoHideError:true,hideBlankError:true,DBC2SBC:false" type="text" maxLength="50"  class="hj001_ipt"   tabindex="21" />           </div>           <div class="hj001_item">               <input type="password" ui="type:\'TextInput\',formName:\'password\',rule:\'accountpassword\',placeholder:\'密码\',autoHideError:true,hideBlankError:true,useEye:true,DBC2SBC:true" class="hj001_ipt" maxlength="20" tabindex="22">           </div>' + this.captcha_item() + '           <div class="hj001_agreement">               <div class="hj001_check">                   <div ui="type:\'Checkbox\',formName:\'hj001_rememberlogin\',value:true,label:\'两周内免登录\',checked:\'checked\',isFormItem:false"></div>               </div>               <a target="_blank" href="http://pass.hujiang.com/forgot_password/" title="忘记密码？" class="hj001_forget_pwd">忘记密码？</a>           </div>       </div>       <a href="###" ui="type:\'Button\',formName:\'submit\'" class="hj001_login_btn" tabindex="24">登&nbsp;&nbsp;录</a>' + this.otherlogin_item + '   </div>   <div class="hj-login-needchangepwd" style="display:none;">       <p class="tip">您已经有较长时间没修改过密码，</p>       <p class="tip">为了您的帐户安全，建议立即<a class="change-pwd" href="###">修改密码</a></p>       <p class="tip" style="padding-top: 10px;"><a href="http://wlaqz.cac.gov.cn/" target="_blank">共建网络安全，共享网络文明</a></p>       <a class="btn-continue hj001_login_btn hui_btn">继续浏览</a>   </div>   </div>'
  }, hj_reg_onekey: function () {
    return'   <div class="hj001_dialog" ui="type:\'HJ_Reg_onekey\',formName:\'hj_reg_onekey\'" style="display:none">       <div class="hj001_title">           <div class="hj001_title_item"><a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_login\', \'inner\')">用户登录</a></div>           <div class="hj001_title_item hj001_title_item_mobile hj001_title_item_selected">免注册一键登录</div>           <a href="###" class="hj001_title_login" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(window.hjquicklogin.prefer === \'email\' ? \'hj_reg_email\' : \'hj_reg_mobile\', \'inner\')">               <span class="hj001_title_login_txt">注册</span>                <span class="hj001_icon_gt">〉</span></a>       </div>       <div class="hj001_login_warp">           <div class="hj001_item">               <input type="text" ui="type:\'TextInput\',formName:\'mobile\',rule:\'mobile\',placeholder:\'手机号，未注册将自动创建沪江帐号\',autoValidate:true,autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true"  class="hj001_ipt" maxlength="11" tabindex="1">           </div>' + this.captcha_item() + '           <div class="hj001_item">               <input type="text" ui="type:\'TextInput\',formName:\'validationcode\',rule:\'validationcode\',placeholder:\'短信验证码\',autoValidate:true,autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true" class="hj001_ipt_short" maxlength="6" tabindex="2">               <a class="hj001_send_btn hui_btn" ui="type:\'Button\',formName:\'sendsms\',disabled:true" href="###"><span class="hui_btn_label">获取短信验证码</span></a>           </div>       </div>       <a href="###" ui="type:\'Button\',formName:\'submit\'" class="hj001_login_btn" tabindex="5">登&nbsp;&nbsp;录</a>       <a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_email\', \'inner\')" class="hj001_another">选择邮箱注册</a>' + this.otherlogin_item + "   </div>"
  }, hj_reg_onekey_next: function () {
    return'   <div class="hj001_dialog" ui="type:\'HJ_Reg_onekey_next\',formName:\'hj_reg_onekey_next\'" style="display:none">       <div class="hj001_success">           <i class="hj001_icon_ok"></i>           <span class="hj001_span">恭喜！帐号注册成功</span>       </div>       <div class="hj001_login_warp">           <div class="hj001_item">               <input ui="type:\'TextInput\',formName:\'username\',rule:\'username\',placeholder:\'用户名\',autoValidate:true,autoHideError:true,allowSpace:false,hideBlankError:true,DBC2SBC:true" type="text" class="hj001_ipt" maxlength="12" tabindex="3">           </div>' + this.pwd_wrap_item("hj_reg_mobile") + this.email_item("5") + '       </div>       <a href="###" ui="type:\'Button\',formName:\'submit\'" class="hj001_login_btn" tabindex="6">确认并继续浏览</a>       <a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_email\', \'inner\')" class="hj001_another">选择邮箱注册</a>       <div class="hj001_onekey_next_tip">快速完善个人信息，享受更多优质服务</div>       <hr class="hj001_clearfix" />   </div>'
  }, hj_reg_email_success: function () {
    return'   <div class="hj001_dialog" ui="type:\'HJ_Reg_email_success\',formName:\'hj_reg_email_success\'" style="display:none;">' + this.success_partial_item("1", "hj_reg_email_success_active") + '       <a href="###" ui="type:\'Button\',formName:\'submit\'" class="hj001_continue_btn" tabindex="24">继续浏览</a>       <p class="hj001_email_txt"> 已发送邮件，<a target="_blank" href="http://www.hujiang.com" title="邮箱激活并完善信息" class="hj001_go_email">邮箱激活并完善信息</a></p>   </div>'
  }, hj_reg_mobile_success: function () {
    return'   <div class="hj001_dialog" ui="type:\'HJ_Reg_mobile_success\',formName:\'hj_reg_mobile_success\'" style="display:none;">' + this.success_partial_item("2", "hj_reg_email_mobile_hot") + '       <a target="_blank" href="###" ui="type:\'Button\',formName:\'submit\',size:{width:\'162px\'}" onclick="window.hjquicklogin.control.fireGlobalMonitor(\'hj_reg_email_mobile_btn\')" class="hj001_free_btn" tabindex="6">立即领取</a>       <p class="hj001_auto_close">           <em class="hj001_em"><span class="hj001_left_time">8</span>秒</em>后弹窗自动关闭，</br>如果没有关闭请点击右上角关闭按钮。       </p>   </div>'
  }, hj_reg_k12step1: function () {
    return'<div class="hj-box-lesson" ui="type:\'hj_Reg_k12step1\',formName:\'hj_reg_k12step1\'" style="display:none;">    <p class="slogan">欢迎来到沪江，请选择你最感兴趣的内容</p>    <ul class="lesson-wrap">        <li>            <a href="##" class="group" data-group="k12">                <i class="icon-face icon-young active"></i>            </a>            <p class="tit-1">中小幼</p>        </li>        <li class="ml68">            <a href="###" class="group" data-group="language">                <i class="icon-face icon-lang"></i>            </a>            <p class="tit-1">语言学习</p>        </li>        <li>            <a href="###" class="group" data-group="study">                <i class="icon-face icon-study"></i>            </a>            <p class="tit-1">考研留学</p>        </li>        <li class="ml68">            <a href="###" class="group" data-group="career">                <i class="icon-face icon-job"></i>            </a>            <p class="tit-1">职场兴趣</p>        </li>    </ul>    <div class="box-1">        <a href="###" class="group" data-group="default">跳过 &gt;</a>    </div></div>'
  }, hj_reg_k12step2: function () {
    return'<div class="hj-box-grade"  ui="type:\'hj_Reg_k12step2\',formName:\'hj_reg_k12step2\'" style="display:none;">   <h3 class="tit-2">请选择就读年级</h3>   <p class="desc">以便我们为您提供更精准的服务</p>' + hui.initData.genK12Markup() + "</div>"
  }, hj_reg_k12_success: function () {
    return'<div class="hj-box-reg" ui="type:\'hj_Reg_k12_success\',formName:\'hj_reg_k12_success\'" style="display:none;">    <div class="hj-box-title" >        <p class="tit-5"><i class="icon-sprite icon-tit"></i><span class="ph_welcome"></span></p>    </div>    <p class="tit-6">您的用户名为：<span class="bold ph_user_name"></span>，<br/>请一定牢记哦！</p>    <p class="hj001_email_txt" style="display:none;"> 已发送邮件，<a target="_blank" href="http://www.hujiang.com" title="邮箱激活并完善信息" class="hj001_go_email">邮箱激活并完善信息</a></p>    <div class="wrap">        <p class="tit-7">加入QQ群或公众号，送沪江大礼包！</p>        <a href="##" class="btn-group hj-k12-qqgroup" target="_blank"><i class="icon-sprite icon-btn-qq"></i>加入<span class="ph_group_name"></span></a>        <p class="desc-1"><span class="ph_desc"></span></p>        <a href="##" class="btn-jzh" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'hj_reg_k12_qrcode\', \'inner\');" >        <i class="icon-sprite icon-btn-qq icon-btn-jzh"></i>关注家长慧公众号</a>        <p class="desc-1">了解名师学习规划，收获最有价值的教育信息</p>    </div></div>'
  }, hj_reg_k12_qrcode: function () {
    return'<div class="hj-box-jzh" ui="type:\'hj_Reg_k12_qrcode\',formName:\'hj_reg_k12_qrcode\'" style="display:none;">    <h3 class="tit-4">扫一扫二维码关注家长慧</h3>    <img src="" class="k12-qrcode-src" alt="家长慧二维码">    <div class="wrap">        <div class="btn-back"><a href="###" class="back-k12-success">< 返回</a></div>    </div></div>'
  }, getTpl: function () {
    var a = '<div class="hj001_login_container">   <a href="###" onclick="hui.Control.getByFormName(\'hj_quicklogin\').showDialog(\'\');"  class="hj001_close_btn">╳</a>   <!-- 手机号注册-->' + this.hj_reg_mobile() + "   <!-- 邮箱注册-->" + this.hj_reg_email() + "   <!-- 登录-->" + this.hj_reg_login() + "   <!-- 免注册一键登录-->" + this.hj_reg_onekey() + "   <!-- 免注册一键登录成功-->" + this.hj_reg_onekey_next() + "   <!-- 邮箱注册成功-->" + this.hj_reg_email_success() + "   <!-- 手机注册成功-->" + this.hj_reg_mobile_success() + "   <!-- K12第一步-->" + this.hj_reg_k12step1() + "   <!-- K12第二步-->" + this.hj_reg_k12step2() + "   <!-- K12成功-->" + this.hj_reg_k12_success() + "   <!-- 二维码-->" + this.hj_reg_k12_qrcode() + "   <!----></div>";
    return a
  }}
}(), hui.define("hj_quicklogin", ["hui_md5@0.0.1", "hj_reg_email", "hj_reg_email_success", "hj_reg_login", "hj_reg_mobile", "hj_reg_mobile_success", "hj_reg_onekey", "hj_reg_onekey_next"], function () {
  hui.HJ_QuickLogin = function (a, b) {
    this.isFormItem = !1, hui.HJ_QuickLogin.superClass.call(this, a, "pending"), this.type = "hj_quicklogin", this.controlMap = {}, this.DAHash = {}, this.status = {}, this.initMonitor(), "pending" != b && this.enterControl()
  }, hui.HJ_QuickLogin.prototype = {union_login: function () {
    return""
  }, render: function () {
    hui.HJ_QuickLogin.superClass.prototype.render.call(this);
    var a, b, c = this, d = c.getMain(), e = function (a, b) {
      var c = [];
      for (var d in b) {
        var e = d + "=" + encodeURIComponent(b[d]);
        c.push(e)
      }
      return a + "?" + c.join("&")
    }, f = "https://open.weixin.qq.com/connect/qrconnect", g = "wxd04809a6f1f434d6";
    $(d).addClass("hj001_quicklogin " + (c.className || "")), b = e(f, {appid: g, redirect_uri: "http://pass.hujiang.com/sso/weixin_callback/", response_type: "code", state: window.location.href, scope: "snsapi_login"}), c.setInnerHTML(d, hui.format(hui.tmpls.getTpl(), {cur_location: window.location.href, weixin_login: b, weixin_register: b})), $(".hj001_free_btn")[0].href = $(".hj001_free_link2")[0].href = $(".hj001_free_link1")[0].href = "http://pass.hujiang.com/q/profile/?returnurl=" + (c.returnurl ? c.returnurl : window.location.href.split("#")[0]), "kk" !== c.source && -1 === window.location.host.indexOf("hjclass.com") && -1 === window.location.host.indexOf("class.hujiang.com") && ($(".hj001_free1").show(), $(".hj001_free2").show()), window.hjquicklogin && "email" === window.hjquicklogin.prefer && (a = $(".hj001_title_item_mobile")[0], a.parentNode.appendChild(a), a = $(".hj001_title_item_mobile")[1], a.parentNode.appendChild(a)), hui.Control.init(d, (hui.Action ? hui.Action.get() : {}).model, c)
  }, toggleOtherLinks: function () {
    $(".hj001_other_login", this.getMain()).toggle()
  }, k12prestep: function (a, b) {
    function c() {
      return!0
    }

    return"hj_reg_mobile" !== a || this.isIgnoreK12Steps || b || !c() ? a : "hj_reg_k12step1"
  }, showDialog: function (a, b, c, d) {
    "boolean" == typeof b && (d = c, c = b);
    var e, f = this, g = f.getByFormName("hj_reg_mobile"), h = f.getByFormName("hj_reg_email"), i = f.getByFormName("hj_reg_mobile_success"), j = f.getByFormName("hj_reg_email_success"), k = f.getByFormName("hj_reg_login"), l = f.getByFormName("hj_reg_onekey"), m = f.getByFormName("hj_reg_onekey_next"), n = f.getByFormName("hj_reg_k12step1"), o = f.getByFormName("hj_reg_k12step2"), p = f.getByFormName("hj_reg_k12_success"), q = f.getByFormName("hj_reg_k12_qrcode");
    a = this.k12prestep(a, c), e = f.getByFormName(a), e || (f.fireAllMonitor("hj_reg_close"), !$(p.getMain()).is(":visible") && !$(q.getMain()).is(":visible") || this.status.afterLogin || window.location.reload && window.location.reload()), g && g.hide(), h && h.hide(), i && i.hide(), j && j.hide(), k && k.hide(), l && l.hide(), m && m.hide(), n && n.hide(), o && o.hide(), p && p.hide(), q && q.hide(), hui.Mask && hui.Mask.hide(), e ? (hui.Mask && hui.Mask.show(), f.show(), e.hideError(), e.show(d), f.onresizeCallback(), $(window).on("resize", f.onresize), $(window).on("keyup", f.onesc), $(document.documentElement).addClass("hj001_quicklogin_html"), this.showModuleMoniter(a, e, b)) : (f.getByFormName("hj_reg_mobile").checkAgree(), f.getByFormName("hj_reg_email").checkAgree(), f.getByFormName("hj_reg_login").getByFormName("submit").setDisabled(!1), f.hide(), $(window).off("resize", f.onresize), $(window).off("keyup", f.onesc), $(document.documentElement).removeClass("hj001_quicklogin_html"))
  }, getSubName: function () {
    var a = window.location.host, b = this.getPassName(), c = ~b.lastIndexOf("pass") ? "quick" : "api";
    return b + (a.replace("hjclass.com", "") + "hjclass.com" === a ? ".hjclass.com/quick" : ".hujiang.com/" + c)
  }, getPassName: function () {
    return hui.glob_vals.API_HOST
  }, getQuickSubName: function () {
    return"/quick"
  }, onregiste: function (a, b) {
    var c = this, d = hui.Control.getByFormName("hj_quicklogin"), e = a.getParamMap();
    a.getByFormName("submit").isDisabled() || (e.act = "register", e.template = d && d.template ? d.template : "default", e.returnurl = d && d.returnurl ? d.returnurl : window.location.href.split("#")[0], e.password = hui.MD5.encode(e.password), e.groupid = this.DAHash.groupid || 0, e.categoryid = this.DAHash.categoryid || 0, b && (e.captcha = b, e.token = $(".hj001_captcha_img", a.getMain())[0].getAttribute("token")), d && d.source && (e.source = d.source), a.getByFormName("submit").setDisabled().setContent("注  册  中 . . ."), $.ajax({dataType: "jsonp", url: c.getSubName() + "/account/", data: e, success: function (b) {
      if (0 === b.code)return hui.setCookie("hj001_username", b.data.user.username), a.parentControl.updateSSO.callback = function () {
        a.parentControl.onRegisteSuccess(a, b)
      }, a.parentControl.DAHash.type = b.data.user.regtype, void a.parentControl.updateSSO(encodeURIComponent(b.data.ssotoken));
      var c = b.code, d = {};
      ~"1100,1101,9004".indexOf(c) ? d.mobile = b.message : ~"1102,1103,1104,3003,3004,3005,3006".indexOf(c) ? d.validationcode = b.message : ~"1130,1131".indexOf(c) ? d.email = b.message : ~"1214,1221,1222".indexOf(c) ? d.username = b.message : ~"1223,1224".indexOf(c) ? d.password = b.message : ~"1106".indexOf(c) ? (a.getByFormName("code").showError(b.message), a._isCaptchaInited = !1, a.checkCaptcha(!0)) : (400 == b.code || 401 == b.code) && alert(b.message), a.showErrorByTree(d), a.getByFormName("submit").setDisabled(!1).setContent("注  册")
    }}))
  }, checkMobile: function (a) {
    var b = a.getByFormName("mobile"), c = a.getByFormName("sendsms"), d = b.getValue();
    d && b.validate("not_show") ? (c.setDisabled(!1), a.parentControl.checkMobileExist(a)) : c.setDisabled(!0)
  }, checkMobileExist: function (a) {
    var b = this, c = a.getByFormName("mobile");
    if (c) {
      c.showWaiting();
      var d = c.getValue();
      c.isExist = c.existValue == d ? c.existValue : "", c.existValue = d, $.ajax({dataType: "jsonp", url: b.getSubName() + "/account/", data: {act: "check_mobile", mobile: c.getValue(), reversal: !0}, success: function (b) {
        b && 0 === b.code && b.data === !0 ? (c.showError(4, "by_code"), c.isExist = "exist", a.getByFormName("sendsms").setDisabled()) : b && 0 === b.code && b.data === !1 ? (c.showOK(), c.existValue = "", a.getByFormName("sendsms").setDisabled(!1)) : (c.showError(b.message), a.getByFormName("sendsms").setDisabled())
      }})
    }
  }, checkEmail: function (a) {
    var b = a.getByFormName("email");
    b.getValue() && b.validate() && this.checkEmailExist(a)
  }, checkEmailExist: function (a) {
    var b = this, c = a.getByFormName("email");
    if (c) {
      c.showWaiting();
      var d = c.getValue();
      c.isExist = c.existValue == d ? c.existValue : "", c.existValue = d, $.ajax({dataType: "jsonp", url: b.getSubName() + "/account/", data: {act: "check_email", email: c.getValue()}, success: function (a) {
        a && 0 === a.code && a.data === !1 ? (c.isExist = "", c.showOK()) : a && 0 === a.code && a.data === !0 ? (c.isExist = "exist", c.showError(4, "by_code")) : c.showError(a.message)
      }})
    }
  }, checkUsername: function (a) {
    var b = this, c = a.getByFormName("username"), d = c.getValue();
    d && c.validate() && b.checkUsernameExist(a)
  }, checkUsernameExist: function (a) {
    var b = this, c = a.getByFormName("username");
    if (c) {
      c.showWaiting();
      var d = c.getValue();
      c.isExist = c.existValue == d ? c.existValue : "", c.existValue = d, $.ajax({dataType: "jsonp", url: b.getSubName() + "/account/", data: {act: "check_username", username: c.getValue()}, success: function (a) {
        a && 0 === a.code && a.data === !1 ? (c.isExist = "", c.showOK()) : a && 0 === a.code && a.data === !0 ? (c.isExist = "exist", c.showError(4, "by_code")) : c.showError(a.message)
      }})
    }
  }, checkPassword: function (a) {
    var b, c = a.getByFormName("password"), d = c.getValue();
    return a.checkPasswordStrong = a.checkPasswordStrong || hui.Validator.getRule("password").checkStrong, b = a.checkPasswordStrong(d), 0 === b && (b = 1), $(a.getMain()).find(".hj001_pwd_complex_warp").removeClass("hj001_complex_-1 hj001_complex_0 hj001_complex_1 hj001_complex_2 hj001_complex_3").addClass("hj001_complex_" + b), d ? void c.validate() : void c.hideError()
  }, getEmailList: function () {
    return{"@qq.com": "http://mail.qq.com", "@163.com": "http://mail.163.com", "@126.com": "http://mail.126.com", "@sina.com": "http://mail.sina.com", "@hotmail.com": "http://mail.hotmail.com", "@gmail.com": "http://mail.google.com"}
  }, onRegisteSuccess: function (a, b) {
    if (a.setValueByTree({username: "", password: "", email: "", mobile: "", validationcode: ""}), a.parentControl.isNeedK12) {
      var c = hui.Control.getByFormName("hj_reg_k12_success");
      return"hj_reg_mobile" != a.getFormName() && (c.shouldEmailShown = !0), c.username = b.data.user.username, void a.parentControl.showDialog("hj_reg_k12_success")
    }
    a.parentControl.showDialog("hj_reg_mobile" == a.getFormName() ? "hj_reg_mobile_success" : "hj_reg_email_success")
  }, onRegisteSuccessMobile: function () {
  }, onLoginSuccess: function () {
  }, updateSSO: function (a, b) {
    var c = this;
    c.updateSSOTimer && window.clearTimeout(c.updateSSOTimer), c.updateSSOTimer = window.setTimeout(function () {
      c.ssonum = 5, c.updateSSOCallback()
    }, 1e4);
    for (var d = ["hujiang", "yeshj", "cctalk", "hjenglish", "hjclass"], e = 0, f = d.length; f > e; e++)$.ajax({dataType: "jsonp", url: c.getPassName() + "." + d[e] + ".com" + c.getQuickSubName() + "/synclogin.aspx?token=" + a + (b ? "&remeberdays=" + b : ""), success: c.updateSSOCallback})
  }, updateSSOTimer: null, updateSSOCallback: function () {
    var a = hui.Control.getByFormName("hj_quicklogin");
    a.ssonum > 4 ? (a.updateSSOTimer && (window.clearTimeout(a.updateSSOTimer), a.updateSSOTimer = null), a.updateSSO.callback && a.updateSSO.callback()) : (a.ssonum = a.ssonum ? a.ssonum : 1, a.ssonum += 1)
  }, onresize: function () {
    var a = hui.Control.getByFormName("hj_quicklogin");
    a.onresizeTimer && window.clearTimeout(a.onresizeTimer), a.onresizeTimer = window.setTimeout(a.onresizeCallback, 30)
  }, onresizeCallback: function () {
    var a = hui.Control.getByFormName("hj_quicklogin"), b = a.getMain();
    a.onresizeTimer = null;
    var c = Math.max(0, (document.documentElement.clientHeight - b.clientHeight) * (a.top || .3)), d = Math.max(0, (document.documentElement.clientWidth - b.clientWidth) * (a.left || .5));
    if (window.ActiveXObject && !window.XMLHttpRequest) {
      var e = $(".hj001_quicklogin")[0];
      e.style.setExpression("top", "eval(document.documentElement.scrollTop  + Math.max(0, (document.documentElement.clientHeight - 500)*0.4))"), e.style.setExpression("left", "eval(document.documentElement.scrollLeft + Math.max(0, (document.documentElement.clientWidth - 427))/2)")
    } else hui.util.importCssString(".hj001_quicklogin.hj001_login_box {top:" + c + "px;left:" + d + "px; margin-left:0px;}", "hj001_quicklogin_fixed_7181549444794655");
    hui.Mask.repaintMask()
  }, onscroll: function (a) {
    return a.cancelBubble = !0, a.stopPropagation && a.stopPropagation(), a.preventDefault ? a.preventDefault() : window.event.returnValue = !1, !1
  }, onesc: function (a) {
    a = a || hui.window.event;
    var b = a.keyCode || a.which;
    27 == b && hui.Control.getByFormName("hj_quicklogin").showDialog("")
  }}, hui.inherits(hui.HJ_QuickLogin, hui.Control)
}), function (a) {
  hui.define("hj_quicklogin_4da", ["hj_quicklogin"], function () {
    var b = function (a) {
      var b = window.hjquicklogin.control.getByFormName(a);
      return b ? "block" === b.getMain().style.display : !1
    }, c = hui.HJ_QuickLogin.prototype;
    c.monitorList = {}, c.globalMonitorList = {}, c.fireGlobalMonitor = function (a, b) {
      var c = this.globalMonitorList[a];
      if (c && c.length)for (var d = 0, e = c.length; e > d; d++)"function" == typeof c[d] && c[d](b)
    }, c.fireAllMonitor = function (a) {
      this.monitorList[a] && this.monitorList[a](), this.fireGlobalMonitor(a)
    }, c.sendLoginEvent = function (a, b, c) {
      "undefined" != typeof window.SendEvent && window.SendEvent(a, b, c)
    }, c.addGlobalMonitor = function (a, b) {
      this.globalMonitorList[a] = this.globalMonitorList[a] || [], this.globalMonitorList[a].push(b)
    }, c.initMonitor = function () {
      var a = this;
      this.addGlobalMonitor("hj_reg_k12step1", function () {
        a.sendLoginEvent(2, 823)
      }), this.addGlobalMonitor("hj_reg_k12step1_choose", function () {
        a.sendLoginEvent(2, 824, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_k12step1_skep", function () {
        a.sendLoginEvent(2, 825)
      }), this.addGlobalMonitor("hj_reg_k12step2", function () {
        a.sendLoginEvent(2, 829, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_k12step2_choose", function () {
        a.sendLoginEvent(2, 827, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_k12_success", function () {
        a.sendLoginEvent(2, 830, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_k12_success_qqgroup", function () {
        a.sendLoginEvent(2, 831, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_k12_qrcode", function () {
        a.sendLoginEvent(2, 832, a.DAHash)
      }), this.addGlobalMonitor("hj_reg", function () {
        a.sendLoginEvent(2, 834, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_login", function () {
        a.sendLoginEvent(2, 835, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_mobile_success", function () {
        a.sendLoginEvent(2, 830, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_email_success", function () {
        a.sendLoginEvent(2, 830, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_login_submit", function () {
      }), this.addGlobalMonitor("hj_reg_mobile_submit", function () {
      }), this.addGlobalMonitor("hj_reg_email_submit", function () {
      }), this.addGlobalMonitor("hj_reg_email_success_active", function () {
      }), this.addGlobalMonitor("hj_reg_email_continue", function () {
      }), this.addGlobalMonitor("hj_reg_close", function () {
        "undefined" != typeof window.SendEvent && (b("hj_reg_email_success") ? window.SendEvent(2, 92) : b("hj_reg_k12step1") ? window.SendEvent(2, 826) : b("hj_reg_k12step2") ? window.SendEvent(2, 828, a.DAHash) : b("hj_reg_k12_success") ? window.SendEvent(2, 833, a.DAHash) : (b("hj_reg_email") || b("hj_reg_mobile")) && window.SendEvent(2, 836, a.DAHash))
      }), this.addGlobalMonitor("hj_reg_email_success_active", function () {
        a.sendLoginEvent(2, 102)
      }), this.addGlobalMonitor("hj_reg_email_mobile_hot", function () {
        a.sendLoginEvent(2, 104)
      }), this.addGlobalMonitor("hj_reg_email_mobile_btn", function () {
        a.sendLoginEvent(2, 105)
      }), this.addGlobalMonitor("hj_reg_mobile_email", function () {
        a.sendLoginEvent(2, 838, a.DAHash)
      }), this.addGlobalMonitor("hj_reg_email_mobile", function () {
        a.sendLoginEvent(2, 837, a.DAHash)
      }), this.addGlobalMonitor("hj_login_changepwd", function () {
        a.sendLoginEvent(2, 1236)
      }), this.addGlobalMonitor("hj_login_changepwd_continue", function () {
        a.sendLoginEvent(2, 1238)
      }), this.addGlobalMonitor("hj_login_changepwd_change", function () {
        a.sendLoginEvent(2, 1237)
      })
    }, c.showModuleMoniter = function (b, c, d) {
      var e = this;
      "hj_reg_mobile_success" == b ? (e.fireAllMonitor("hj_reg_mobile_success"), c.startTimer()) : "hj_reg_email_success" == b ? (e.fireAllMonitor("hj_reg_email_success"), c.updateEmailServer(), a(".hj001_close_btn")[0].onclick = function () {
        e.fireAllMonitor("hj_reg_close"), window.location.reload && window.location.reload()
      }) : "hj_reg_mobile" == b ? (e.fireAllMonitor("inner" !== d ? "hj_reg" : "hj_reg_email_mobile"), c.getByFormName("mobile").mainFocus()) : "hj_reg_email" == b ? (e.fireAllMonitor("inner" !== d ? "hj_reg" : "hj_reg_mobile_email"), c.getByFormName("email").mainFocus()) : "hj_reg_login" == b ? (e.fireAllMonitor("hj_reg_login"), c.getByFormName("account").mainFocus()) : "hj_reg_onekey" == b ? (e.fireAllMonitor("hj_reg_login"), c.getByFormName("mobile").mainFocus()) : "hj_reg_onekey_next" == b ? (e.fireAllMonitor("hj_reg_login"), c.getByFormName("username").mainFocus()) : "hj_reg_k12step1" == b ? e.fireAllMonitor("hj_reg_k12step1") : "hj_reg_k12step2" == b ? e.fireAllMonitor("hj_reg_k12step2") : "hj_reg_k12_success" == b ? (c.updateEmailServer(), e.fireAllMonitor("hj_reg_k12_success")) : "hj_reg_k12_qrcode" == b && e.fireAllMonitor("hj_reg_k12_qrcode")
    }
  })
}(jQuery), hui.define("hj_reg_k12_qrcode", ["hui@0.0.1"], function () {
  hui.createRegModule("hj_Reg_k12_qrcode", {initBehavior: function () {
    var a = this;
    $(this.getMain()).find(".back-k12-success").click(function () {
      hui.Control.getByFormName("hj_quicklogin").showDialog("hj_reg_k12_success", !1, a.parentControl.status.afterLogin)
    })
  }, show: function () {
    var a = hui.initData.getInfoByID(this.parentControl.DAHash.groupid, this.parentControl.DAHash.categoryid);
    $(this.getMain()).find(".k12-qrcode-src").attr("src", a.qrcode), hui.hj_Reg_k12_qrcode.superClass.prototype.show.call(this)
  }})
}), hui.define("hj_reg_k12_success", ["hui@0.0.1"], function () {
  hui.createRegModule("hj_Reg_k12_success", {initBehavior: function () {
    var a = this;
    $(a.getMain()).find(".hj-k12-qqgroup").bind("click", function () {
      a.parentControl.fireAllMonitor("hj_reg_k12_success_qqgroup")
    })
  }, username: "", shouldEmailShown: !1, show: function (a) {
    var b = this, c = $(this.getMain()), d = hui.initData.getInfoByID(b.parentControl.DAHash.groupid, b.parentControl.DAHash.categoryid);
    b.shouldEmailShown && c.find(".hj001_email_txt").show(), a ? c.find(".tit-6").hide() : c.find("span.ph_user_name").html(this.username), c.find("span.ph_welcome").html(a ? "成功进入！" : "恭喜您注册成功！"), d && (c.find("span.ph_group_name").html(d.btnTxt), c.find("span.ph_desc").html(d.desc || "向名师请教难题，和百万家长分享经验"), c.find("a.btn-group").attr("href", d.qq)), hui.hj_Reg_k12_success.superClass.prototype.show.call(b)
  }, updateEmailServer: function () {
    var a = (hui.getCookie("hj001_email") + "@@").split("@")[1], b = this.parentControl.getEmailList(), c = b["@" + a] || "http://www." + a;
    a && ($(this.getMain()).find(".hj001_go_email")[0].href = c)
  }})
}), hui.define("hj_reg_k12step1", ["hui@0.0.1"], function () {
  hui.createRegModule("hj_Reg_k12step1", {initBehavior: function () {
    var a = this, b = hui.initData.group;
    $(this.getMain()).find("a.group").bind("click", function () {
      var c, d, e;
      (c = $(this).attr("data-group")) && (d = b[c]) && (a.parentControl.DAHash.groupid = d.groupID, a.parentControl.fireAllMonitor(0 !== d.groupID ? "hj_reg_k12step1_choose" : "hj_reg_k12step1_skep"), e = d.needNextStep ? "hj_reg_k12step2" : "hj_reg_mobile", a.parentControl.showDialog(e, !0))
    })
  }, show: function () {
    var a = this.parentControl;
    a.DAHash.groupid = 0, a.DAHash.categoryid = 0, a.isNeedK12 = !1, hui.hj_Reg_k12step1.superClass.prototype.show.call(this)
  }})
}), hui.define("hj_reg_k12step2", ["hui@0.0.1"], function () {
  hui.createRegModule("hj_Reg_k12step2", {initBehavior: function () {
    var a = this, b = (hui.initData.k12, a.parentControl);
    $(this.getMain()).find("a.k12grade").bind("click", function () {
      var c, d;
      isNaN(c = parseInt($(this).attr("data-cate"))) || (b.DAHash.categoryid = c, b.fireAllMonitor("hj_reg_k12step2_choose"), "function" == typeof hui.hj_Reg_k12step2.onselect && hui.hj_Reg_k12step2.onselect.call(a, {groupID: b.DAHash.groupid, categoryID: b.DAHash.categoryid}), d = b.status.afterLogin ? "hj_reg_k12_success" : "hj_reg_mobile", b.showDialog(d, !0, b.status.afterLogin))
    })
  }, show: function (a) {
    var b = hui.initData.group.k12.groupID;
    this.parentControl.DAHash.groupid = b, this.parentControl.status.afterLogin = !!a, this.parentControl.isNeedK12 = !0, hui.hj_Reg_k12step2.superClass.prototype.show.call(this)
  }}), hui.hj_Reg_k12step2.onselect = null
}), hui.define("hj_reg_email", ["hui@0.0.1", "hui_md5@0.0.1", "hui_textinput@0.0.1", "hui_button@0.0.1", "hui_checkbox@0.0.1"], function () {
  hui.createRegModule("HJ_Reg_email", {initBehavior: function () {
    var a = this, b = a.getMain(), c = a.getByFormName("email"), d = a.getByFormName("username"), e = a.getByFormName("password"), f = a.getByFormName("agree"), g = a.getByFormName("submit"), h = $(b).find(".hj001_email_list")[0];
    e.onpaste = e.onkeyup = function () {
      a.parentControl.checkPassword(a)
    }, d.onpaste = d.onblur = function () {
      a.parentControl.checkUsername(a)
    }, g.onclick = d.onenter = e.onenter = hui.fn(a.onsubmit, a), f.onclick = hui.fn(a.checkAgree, a), a.hideEmailListHandller = a.hideEmailListHandller || function () {
      a.hideEmailList()
    }, c.onfocus = hui.fn(a.showEmailList, a), c.onblur = a.hideEmailListHandller, c.onkeyup = hui.fn(a.updateEmailList, a), c.choose = function (a) {
      var b = a.innerHTML;
      c.setValue(b), h.style.display = "none", c.validate() && d.mainFocus()
    }, h.onmouseover = function () {
      c.onblur = new Function
    }, h.onmouseout = function () {
      c.onblur = a.hideEmailListHandller
    }, a.checkAgree()
  }, checkAgree: function () {
    this.getByFormName("submit").setDisabled(!this.getByFormName("agree").getChecked())
  }, showEmailList: function (a) {
    this.getByFormName("email").getValue().replace(/\s/gi, "") && this.updateEmailList(a)
  }, hideEmailListHandller: null, hideEmailList: function () {
    var a = this, b = a.getByFormName("email");
    b.email_list = b.email_list || $(a.getMain()).find(".hj001_email_list")[0], b.email_list.style.display = "none", b.getValue() && b.validate() && a.parentControl.checkEmail(a)
  }, updateEmailList: function (a) {
    var b, c, d, e = this, f = $(e.getMain()), g = e.getByFormName("email"), h = g.getValue().replace(/\s/gi, "");
    g.email_list = g.email_list || f.find(".hj001_email_list")[0], b = f.find(".hj001_row hj001_row_over").removeClass("hj001_row_over")[0], c = f.find(".hj001_row"), a = a || window.event;
    var i = a.keyCode || a.which;
    13 == i ? b && g.choose(b) : 38 == i ? (b ? (d = hui.util.findSiblingByClassName(b, "hj001_row", "pre"), d == b && (d = hui.util.findSiblingByClassName(b, "hj001_row", "last"))) : d = hui.util.findSiblingByClassName(c[0], "hj001_row", "last"), d && $(d).addClass("hj001_row_over")) : 40 == i ? (b ? (d = hui.util.findSiblingByClassName(b, "hj001_row", "next"), d == b && (d = hui.util.findSiblingByClassName(b, "hj001_row", "first"))) : d = hui.util.findSiblingByClassName(c[0], "hj001_row", "first"), d && $(d).addClass("hj001_row_over")) : h && (g.tpl_suggestion = g.tpl_suggestion || g.email_list.innerHTML, g.email_list.innerHTML = e.getSuggestionEmailList(g.getValue()), g.email_list = g.email_list || $(e.getMain()).find(".hj001_email_list")[0], g.email_list.style.display = "block")
  }, getSuggestionEmailList: function (a) {
    var b = this, c = '<div class="hj001_row" index="#{index}" onmouseover="$(this).addClass(\'hj001_row_over\')" onmouseout="$(this).removeClass(\'hj001_row_over\')" onclick="hui.Control.getByFormName(\'email\',\'#{parent}\').choose(this)">#{email}</div>', d = b.parentControl.getEmailList(), e = a.split("@"), f = e[0], g = String(e[1] || "@").toLowerCase(), h = [], i = "";
    for (var j in d)d.hasOwnProperty(j) && ~j.indexOf(g) && h.push(j);
    for (var j = 0, k = h.length; k > j; j++)i += hui.format(c, {index: j, email: f + h[j], parent: b.getId()});
    return i
  }, show: function () {
    return $(this.getMain()).show().removeClass("hide"), this.checkCaptcha(), this
  }, onsubmit: function () {
    var a = this;
    a.parentControl.fireAllMonitor("hj_reg_email_submit"), a.validate() && (hui.setCookie("hj001_email", a.getParamMap().email), a.parentControl.onregiste(a, a.getByFormName("code").getValue()))
  }, checkCaptcha: function (a) {
    {
      var b = this;
      this.getMain()
    }
    return this._isCaptchaInited ? void $("#hj_captcha_img").appendTo($(".hj_captcha_container", this.getMain())) : void $.ajax({dataType: "jsonp", url: b.parentControl.getSubName() + "/account/", data: {act: "check_captcha_status"}, success: function (c) {
      0 === c.code && (b.showCaptcha(!(!c.data || !c.data.require_catpcha_for_email), a), b._isCaptchaInited = !0)
    }})
  }, showCaptcha: function (a, b) {
    var c = this, d = this.getMain(), e = $("#hj_captcha_img");
    a ? (e.appendTo($(".hj_captcha_container", d)), !e.prop("src") || b ? $.ajax({dataType: "jsonp", url: hui.glob_vals.RESOURCE_HOST + "/api.php", success: function (a) {
      $(".hj001_captcha_code", d).show(), e.attr({src_bak: a.img, token: a.token}).prop("src", a.img + "&" + Math.random());
      var b = c.getByFormName("code");
      b.setValue("")
    }}) : $(".hj001_captcha_code", d).show()) : $(".hj001_captcha_code", d).hide()
  }})
}), hui.define("hj_reg_email_success", ["hui@0.0.1", "hui_md5@0.0.1", "hui_textinput@0.0.1", "hui_button@0.0.1", "hui_checkbox@0.0.1"], function () {
  hui.createRegModule("HJ_Reg_email_success", {initBehavior: function () {
    var a = this;
    a.getByFormName("submit").onclick = hui.fn(a.onsubmit, a), $(a.getMain()).find(".hj001_go_email").click(hui.fn(a.onEmailActive, a)), a.updateEmailServer()
  }, onsubmit: function () {
    this.parentControl.fireAllMonitor("hj_reg_email_continue"), window.location.reload && window.location.reload()
  }, onEmailActive: function () {
    this.parentControl.fireAllMonitor("hj_reg_email_success_active")
  }, updateEmailServer: function () {
    var a = (hui.getCookie("hj001_email") + "@@").split("@")[1], b = this.parentControl.getEmailList(), c = b["@" + a] || "http://www." + a;
    a && ($(this.getMain()).find(".hj001_go_email")[0].href = c)
  }})
}), hui.define("hj_reg_login", ["hui@0.0.1", "hui_md5@0.0.1", "hui_textinput@0.0.1", "hui_button@0.0.1", "hui_checkbox@0.0.1"], function () {
  hui.createRegModule("HJ_Reg_login", {initBehavior: function () {
    var a = this, b = a.getByFormName("account"), c = a.getByFormName("password"), d = a.getByFormName("code"), e = a.getByFormName("submit"), f = hui.getCookie("hj001_username");
    f && b.setValue(f), b.onenter = c.onenter = d.onenter = e.onclick = hui.fn(a.onLoginSubmit, a), a.showCaptcha("true" == hui.getCookie("showcaptcha"))
  }, show: function () {
    return $(this.getMain()).show().removeClass("hide"), this.checkCaptcha(), this
  }, onLoginSubmit: function () {
    var a = this;
    if (a.parentControl.fireAllMonitor("hj_reg_login_submit"), $form = $(a.getMain()), a.validate()) {
      var b = a.parentControl, c = a.getParamMap();
      a.getByFormName("submit").isDisabled() || (c.act = "loginverify", c.template = b ? b.template : "default", c.returnurl = b ? b.returnurl : window.location.href, c.password = hui.MD5.encode(c.password), b && b.source && (c.source = b.source), a.getByFormName("hj001_rememberlogin").getChecked() ? hui.setCookie("hj001_rememberlogin", "true", 18e5) : hui.removeCookie("hj001_rememberlogin"), hui.getCookie("showcaptcha") && (c.captchatoken = $(".hj001_captcha_img", a.getMain())[0].getAttribute("token")), a.getByFormName("submit").setDisabled().setContent("登  录  中 . . ."), $.ajax({dataType: "jsonp", url: b.getSubName() + "/account/", data: c, success: function (b) {
        var c, d, e = b.code;
        if (b && "0" == String(e)) {
          hui.setCookie("hj001_username", b.data.username), c = hui.Control.getByFormName("hj_quicklogin"), d = b.data.require_modify_password;
          var f = hui.getCookie("hj001_rememberlogin") ? 14 : null;
          if (d) {
            $(".hj-login-loginarea", $form).hide();
            var g = $(".hj-login-needchangepwd", $form).show();
            a.parentControl.fireAllMonitor("hj_login_changepwd"), g.find(".btn-continue").click(function () {
              a.parentControl.fireAllMonitor("hj_login_changepwd_continue"), a.parentControl.onLoginSuccess(b, f)
            }), g.find(".change-pwd").click(function () {
              a.parentControl.fireAllMonitor("hj_login_changepwd_change"), window.location.href = "//pass.hujiang.com/account/"
            })
          } else c.showDialog("");
          hui.removeCookie("showcaptcha"), a.hideError(), a.parentControl.updateSSO.callback = function () {
            d || a.parentControl.onLoginSuccess(b)
          }, a.parentControl.updateSSO(encodeURIComponent(b.data.ssotoken), f, d)
        } else {
          var h = {};
          if (~"1106".indexOf(e) ? h.code = b.message : h.account = b.message, a.hideError(), a.showErrorByTree(h), a.getByFormName("submit").setDisabled(!1).setContent("登  录"), hui.setCookie("showcaptcha", "true", 18e5), b && b.data && b.data.showcaptcha) {
            var e = hui.Control.getByFormName("hj_quicklogin").getByFormName("hj_reg_login").getByFormName("code");
            e.setValue(""), e.mainFocus()
          }
          a.showCaptcha(b && b.data && b.data.showcaptcha)
        }
      }}))
    }
  }, checkCaptcha: function () {
    var a = this.getMain();
    $("#hj_captcha_img", a).length || $("#hj_captcha_img").appendTo($(".hj_captcha_container", a))
  }, showCaptcha: function (a) {
    var b = this, c = this.getMain(), d = $("#hj_captcha_img");
    a ? (d.appendTo($(".hj_captcha_container", c)), d.prop("src") ? $(".hj001_captcha_code", c).show() : $.ajax({dataType: "jsonp", url: hui.glob_vals.RESOURCE_HOST + "/api.php", success: function (a) {
      $(".hj001_captcha_code", c).show(), d.attr({src_bak: a.img, token: a.token}).prop("src", a.img + "&" + Math.random());
      var e = b.getByFormName("code");
      e.setValue("")
    }}), b.getByFormName("code").mainFocus()) : $(".hj001_captcha_code", c).hide()
  }})
}), hui.define("hj_reg_mobile", ["hui@0.0.1", "hui_md5@0.0.1", "hui_textinput@0.0.1", "hui_button@0.0.1", "hui_checkbox@0.0.1"], function () {
  hui.createRegModule("HJ_Reg_mobile", {initBehavior: function () {
    var a = this, b = a.getByFormName("mobile"), c = a.getByFormName("username"), d = a.getByFormName("password"), e = a.getByFormName("agree"), f = a.getByFormName("submit"), g = a.getByFormName("sendsms");
    d.onpaste = d.onkeyup = function () {
      a.parentControl.checkPassword(a)
    }, c.onpaste = c.onblur = function () {
      a.parentControl.checkUsername(a)
    }, b.onpaste = b.onblur = b.onkeyup = function () {
      a.parentControl.checkMobile(a)
    }, g.onclick = hui.fn(a.sendSms, a), e.onclick = hui.fn(a.checkAgree, a), f.onclick = c.onenter = d.onenter = hui.fn(a.onsubmit, a), b.getValue() && b.onblur(), c.getValue() && c.validate(), a.checkAgree()
  }, show: function () {
    return $(this.getMain()).show().removeClass("hide"), this.checkCaptcha(), this
  }, checkAgree: function () {
    this.getByFormName("submit").setDisabled(!this.getByFormName("agree").getChecked())
  }, onsubmit: function () {
    var a = this;
    a.parentControl.fireAllMonitor("hj_reg_mobile_submit"), a.validate() && a.parentControl.onregiste(a)
  }, sendSms: function () {
    var a = this;
    a.parentControl.fireAllMonitor("hj_reg_mobile_sendsms");
    var b = a.getByFormName("validationcode");
    $.ajax({dataType: "jsonp", url: a.parentControl.getSubName() + "/account/", data: {act: "send_validation_code", mobile: a.getByFormName("mobile").getValue(), code: a.getByFormName("code").getValue()}, success: function (c) {
      0 !== c.code ? a.getByFormName("mobile").showError(c.message) : c.data && c.data.ticket && $.ajax({dataType: "jsonp", url: a.parentControl.getSubName() + "/account/", data: {act: "send_validation_code", mobile: a.getByFormName("mobile").getValue(), token: $(".hj001_captcha_img", a.getMain())[0].getAttribute("token"), captcha: a.getByFormName("code").getValue(), ticket: c.data.ticket}, success: function (c) {
        0 !== c.code ? 1106 === c.code ? (a.getByFormName("code").showError(c.message), a._isCaptchaInited = !1, a.checkCaptcha(!0), a.resetSendSmsTimer()) : a.getByFormName("mobile").showError(c.message) : a._isCaptchaInited && a.getByFormName("code").showOK(), b.mainFocus()
      }})
    }}), b.mainFocus(), a.startSendSmsTimer()
  }, sendSmsCallback: function () {
  }, resetSendSmsTimer: function () {
    var a = this.getByFormName("sendsms");
    clearTimeout(this.smsTimer), a.leftSeconds = 90, a.setDisabled(!1), a.setContent("重新发送")
  }, startSendSmsTimer: function () {
    var a = this, b = a.getByFormName("sendsms");
    b.leftSeconds = void 0 === b.leftSeconds ? 90 : b.leftSeconds, b.leftSeconds < 2 ? (b.leftSeconds = 90, b.setDisabled(!1), b.setContent("重新发送")) : (b.leftSeconds--, b.setDisabled(!0), b.setContent("重新发送(" + b.leftSeconds + ")"), this.smsTimer = window.setTimeout(function () {
      a.startSendSmsTimer()
    }, 1e3))
  }, checkCaptcha: function (a) {
    {
      var b = this;
      this.getMain()
    }
    return this._isCaptchaInited ? void $("#hj_captcha_img").appendTo($(".hj_captcha_container", this.getMain())) : void $.ajax({dataType: "jsonp", url: b.parentControl.getSubName() + "/account/", data: {act: "check_captcha_status"}, success: function (c) {
      0 === c.code && (b.showCaptcha(!(!c.data || !c.data.require_captcha), a), b._isCaptchaInited = !0)
    }})
  }, showCaptcha: function (a, b) {
    var c = this, d = this.getMain(), e = $("#hj_captcha_img");
    a ? (e.appendTo($(".hj_captcha_container", d)), !e.prop("src") || b ? $.ajax({dataType: "jsonp", url: hui.glob_vals.RESOURCE_HOST + "/api.php", success: function (a) {
      $(".hj001_captcha_code", d).show(), e.attr({src_bak: a.img, token: a.token}).prop("src", a.img + "&" + Math.random());
      var b = c.getByFormName("code");
      b.setValue("")
    }}) : $(".hj001_captcha_code", d).show(), c.getByFormName("code").mainFocus()) : $(".hj001_captcha_code", d).hide()
  }})
}), hui.define("hj_reg_mobile_success", ["hui@0.0.1", "hui_md5@0.0.1", "hui_textinput@0.0.1", "hui_button@0.0.1", "hui_checkbox@0.0.1"], function () {
  hui.createRegModule("HJ_Reg_mobile_success", {startTimer: function () {
    this.leftSecond = 9, this.countDown()
  }, countDown: function () {
    var a = this;
    a.leftSecond--, a.leftSecond < 1 ? (hui.Control.getByFormName("hj_quicklogin").showDialog(""), hui.Control.getByFormName("hj_quicklogin").onRegisteSuccessMobile()) : ($(a.getMain()).find(".hj001_left_time").html(a.leftSecond), a.timer = window.setTimeout(function () {
      a.countDown()
    }, 1e3))
  }})
}), hui.define("hj_reg_onekey", ["hui@0.0.1", "hui_md5@0.0.1", "hui_textinput@0.0.1", "hui_button@0.0.1", "hui_checkbox@0.0.1"], function () {
  hui.createRegModule("HJ_Reg_onekey", {initBehavior: function () {
    var a = this, b = a.getByFormName("mobile"), c = a.getByFormName("submit"), d = a.getByFormName("sendsms"), e = a.getByFormName("validationcode");
    b.onpaste = b.onblur = b.onkeyup = hui.fn(a.checkMobile, a), d.onclick = hui.fn(a.sendSms, a), e.onenter = c.onclick = hui.fn(a.onsubmit, a), b.getValue() && b.onblur()
  }, show: function () {
    return $(this.getMain()).show().removeClass("hide"), this.checkCaptcha(), this
  }, checkMobile: function () {
    var a = this, b = a.getByFormName("mobile"), c = a.getByFormName("sendsms"), d = b.getValue() && b.validate("not_show");
    c.setDisabled(!d)
  }, onsubmit: function () {
    var a = this;
    if (a.parentControl.fireAllMonitor("hj_reg_mobile_submit"), a.validate()) {
      var b = a.getParamMap();
      a.getByFormName("submit").setDisabled().setContent("登  录  中 . . ."), $.ajax({dataType: "jsonp", url: a.parentControl.getSubName() + "/account/?act=quick_login", data: b, success: function (b) {
        if (b && 0 !== b.code) {
          var c = {};
          1010 === b.code ? c.mobile = "手机号不正确" : 1011 === b.code ? c.validationcode = "验证码不能为空" : 1012 === b.code ? c.validationcode = "验证码不正确或已超时" : 1013 === b.code ? c.validationcode = "验证码输入错误次数过多，请重新获取" : 1014 === b.code ? c.validationcode = "未知错误" : (400 == b.code || 401 == b.code) && alert(b.message), a.showErrorByTree(c), a.getByFormName("submit").setDisabled(!1).setContent("登  录")
        } else b && b.data && (b.data.require_modify ? a.parentControl.updateSSO.callback = function () {
          a.getByFormName("submit").setDisabled(!1).setContent("登  录"), hui.Control.getByFormName("hj_quicklogin").showDialog("hj_reg_onekey_next")
        } : a.parentControl.onLoginSuccess(b), a.parentControl.updateSSO(encodeURIComponent(b.data.ssotoken), null))
      }})
    }
  }, sendSms: function () {
    var a = this, b = a.getByFormName("mobile");
    b.validate() && ($.ajax({dataType: "jsonp", url: a.parentControl.getSubName() + "/account/?act=send_login_validcode&mobile=" + b.getValue(), data: {}, success: function (c) {
      if (c && 0 !== c.code) {
        var d = {};
        1e3 === c.code ? d.validationcode = "90秒内只能获取一次" : 1001 === c.code ? d.mobile = "已达到一天获取验证码的上限" : 1002 === c.code ? d.mobile = "不正确的手机号" : d.validationcode = "验证码错误", a.showErrorByTree(d)
      } else c && c.data && c.data.ticket && $.ajax({dataType: "jsonp", url: a.parentControl.getSubName() + "/account/?act=send_login_validcode&mobile=" + b.getValue(), data: {ticket: c.data.ticket, captcha: a.getByFormName("code").getValue(), token: $(".hj001_captcha_img", a.getMain())[0].getAttribute("token")}, success: function (b) {
        if (b && 0 !== b.code) {
          var c = {};
          1e3 === b.code ? c.mobile = "60秒内只能获取一次" : 1001 === b.code ? c.mobile = "已达到一天获取验证码的上限" : 1002 === b.code ? c.mobile = "不正确的手机号" : 1106 === b.code ? (c.code = "验证码错误", a._isCaptchaInited = !1, a.checkCaptcha(!0), a.resetSendSmsTimer()) : c.validationcode = "验证码错误", a.showErrorByTree(c)
        } else a.getByFormName("code").showOK()
      }})
    }}), a.getByFormName("validationcode").mainFocus(), a.startSendSmsTimer())
  }, resetSendSmsTimer: function () {
    var a = this.getByFormName("sendsms");
    clearTimeout(this.smsTimer), a.leftSeconds = 90, a.setDisabled(!1), a.setContent("重新发送")
  }, startSendSmsTimer: function () {
    var a = this, b = a.getByFormName("sendsms");
    b.leftSeconds = void 0 === b.leftSeconds ? 90 : b.leftSeconds, b.leftSeconds < 2 ? (b.leftSeconds = 90, b.setDisabled(!1), b.setContent("重新发送")) : (b.leftSeconds--, b.setDisabled(!0), b.setContent("重新发送(" + b.leftSeconds + ")"), this.smsTimer = window.setTimeout(function () {
      a.startSendSmsTimer()
    }, 1e3))
  }, checkCaptcha: function (a) {
    var b = this;
    return this._isCaptchaInited ? void $("#hj_captcha_img").appendTo($(".hj_captcha_container", this.getMain())) : void $.ajax({dataType: "jsonp", url: b.parentControl.getSubName() + "/account/", data: {act: "check_captcha_status"}, success: function (c) {
      0 === c.code && (b.showCaptcha(!(!c.data || !c.data.require_captcha), a), b._isCaptchaInited = !0)
    }})
  }, showCaptcha: function (a, b) {
    var c = this, d = this.getMain(), e = $("#hj_captcha_img");
    a ? (e.appendTo($(".hj_captcha_container", d)), !e.prop("src") || b ? $.ajax({dataType: "jsonp", url: hui.glob_vals.RESOURCE_HOST + "/api.php", success: function (a) {
      $(".hj001_captcha_code", d).show(), e.attr({src_bak: a.img, token: a.token}).prop("src", a.img + "&" + Math.random());
      var b = c.getByFormName("code");
      b.setValue("")
    }}) : $(".hj001_captcha_code", d).show(), c.getByFormName("code").mainFocus()) : $(".hj001_captcha_code", d).hide()
  }})
}), hui.define("hj_reg_onekey_next", ["hui@0.0.1", "hui_md5@0.0.1", "hui_textinput@0.0.1", "hui_button@0.0.1", "hui_checkbox@0.0.1"], function () {
  hui.createRegModule("HJ_Reg_onekey_next", {render: function () {
    hui.HJ_Reg_onekey_next.superClass.prototype.render.call(this)
  }, initBehavior: function () {
    var a = this, b = a.getMain(), c = a.getByFormName("email"), d = a.getByFormName("username"), e = a.getByFormName("password"), f = a.getByFormName("submit");
    e.onpaste = e.onkeyup = function () {
      a.parentControl.checkPassword(a)
    }, d.onpaste = d.onblur = function () {
      a.parentControl.checkUsername(a)
    }, f.onclick = d.onenter = e.onenter = c.onenter = hui.fn(a.onsubmit, a), a.hideEmailListHandller = a.hideEmailListHandller || function () {
      a.hideEmailList()
    }, c.onfocus = hui.fn(a.showEmailList, a), c.onblur = a.hideEmailListHandller, c.onkeyup = hui.fn(a.updateEmailList, a), c.choose = function (a) {
      var e = a.innerHTML;
      c.setValue(e), $(b).find(".hj001_email_list").hide(), c.validate() && d.mainFocus()
    };
    var g = $(b).find(".hj001_email_list")[0];
    g.onmouseover = function () {
      c.onblur = new Function
    }, g.onmouseout = function () {
      c.onblur = a.hideEmailListHandller
    }
  }, onsubmit: function () {
    var a = this;
    if (a.parentControl.fireAllMonitor("hj_reg_mobile_submit"), a.validate()) {
      var b = a.getParamMap();
      b.password = hui.MD5.encode(b.password), a.getByFormName("submit").setDisabled(), $.ajax({dataType: "jsonp", url: a.parentControl.getSubName() + "/account/?act=modify_userinfo", data: b, success: function (b) {
        if (b) {
          if (0 !== b.code) {
            var c = {};
            return 3e3 === b.code ? c.username = "用户名为空" : 3001 === b.code ? c.username = "用户名已存在或不能使用" : 3002 === b.code ? c.email = "电子邮件地址不正确" : 3003 === b.code ? c.email = "电子邮件地址已存在" : 3004 === b.code ? c.password = "密码不符合要求" : c.username = "系统错误", a.showErrorByTree(c), void a.getByFormName("submit").setDisabled(!1)
          }
          return b.data && b.data.ssotoken ? (a.parentControl.updateSSO.callback = function () {
            a.parentControl.onLoginSuccess(b)
          }, void a.parentControl.updateSSO(encodeURIComponent(b.data.ssotoken), null)) : void a.parentControl.onLoginSuccess(b)
        }
      }})
    }
  }}, hui.HJ_Reg_email)
});