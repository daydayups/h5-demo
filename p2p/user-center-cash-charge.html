<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>充值-发财金-赚钱不等待</title>
  <link rel="stylesheet" href="css/app.css"/>
</head>
<body>
  <div class="top">
    <div class="inner clearfix">
      <div class="top-left">
        <span class="txt">欢迎致电：</span>
        <span class="txt f-bold f-14">400-698-0607</span>
        <span class="txt cl-153">（服务时间：8:30 - 21:00）</span>
        <ul class="ics txt">
          <li class="item">
            <span class="ic ic-weixin"></span>
            <div class="sub-item">
              <img src="images/qrcode-weixin-public.jpg" alt=""/>
              <p>发财金公众号</p>
            </div>
          </li>
          <li class="item m">
            <a class="ic ic-weibo" href="javascript:;"></a>
          </li>
          <li class="item m">
            <span class="ic ic-mobile"></span>
            <div class="sub-item" style="display: none">
              <img src="images/qrcode-weixin-public.jpg" alt=""/>
              <p>扫一扫下载APP</p>
            </div>
          </li>
        </ul><!-- /.ics -->
        <span class="cl-153">手机app</span>
      </div><!-- /.top-left -->
      <div class="top-right">
        <ul>
          <li class="item"><a href="#">新手指引</a><span class="cl-238 ml-15 mr-15">|</span></li>
          <li class="item"><a href="#">帮助中心</a><span class="cl-238 ml-15 mr-15">|</span></li>
          <li class="item"><a href="#">登录</a><span class="cl-238 ml-15 mr-15">|</span></li>
          <li class="item"><a href="#">免费注册</a></li>
        </ul>
      </div><!-- /.top-right -->
    </div><!-- /.inner -->
  </div><!-- /.top-->

  <div class="nav">
    <div class="inner clearfix">
      <div class="n-left">
        <span class="logo"></span>
      </div>
      <ul class="n-right mt-10">
        <li class="item active"><a href="#">首页</a></li>
        <li class="item"><a href="#">安全保障</a></li>
        <li class="item"><a href="#">关于我们</a></li>
        <li class="item"><a href="#">我的账户</a></li>
        <li class="item sp"><a href="#">我要投资</a></li>
      </ul>
    </div><!-- /.inner -->
  </div><!-- /.nav -->
  <div class="normal-gray-bg" style="padding-top: 30px;padding-bottom: 30px">
    <div class="inner clearfix">
      <!-- 内容 -->
      <div class="user-wrap clearfix">
        <!-- 用户的操作导航 -->
        <div class="user-nav">
          <div class="nav-group">
            <a class="group-title" href="user-center.html"><span class="icon-money-pack"></span>我的投资</a>
          </div>
          <div class="nav-group">
            <p class="group-title cl-153"><span class="icon-money"></span>资金管理</p>
            <ul>
              <li><a class="group-item" href="user-center-cash-history.html">资金明细</a></li>
              <li><a class="group-item active" href="user-center-cash-charge.html">充值</a></li>
              <li><a class="group-item" href="#">提现</a></li>
            </ul>
          </div>
          <div class="nav-group">
            <p class="group-title cl-153"><span class="icon-person"></span>个人设置</p>
            <ul>
              <li><a class="group-item" href="#">基础信息</a></li>
              <li><a class="group-item" href="#">银行卡</a></li>
              <li><a class="group-item" href="user-center-spread.html">推广链接</a></li>
            </ul>
          </div>
          <div class="nav-group">
            <a class="group-title" href="#"><span class="icon-feedback"></span>投诉咨询 <span class="icon-click-me">15</span></a>
          </div>
        </div>

        <!-- 用户的操作界面 -->
        <div class="user-main">
          <div class="main-title clearfix">
            <p class="f-16">充值</p>
            <div class="switch-title switch-block-base">
              <ul class="switch-block-wrap clearfix">
                <li class="switch-block curr">网银支付</li>
                <li class="switch-block">柜台/ATM汇款</li>
                <li class="switch-block">支付宝</li>
              </ul>
            </div>
          </div>
          <div class="main-content">

            <!-- 网银支付 -->
            <div class="charge-box mt-40">
              <table class="form-table">
                <tr>
                  <td width="20%" align="right"><span class="f-14">充值金额</span></td>
                  <td width="">
                    <div class="inp-box">
                      <input type="text" class="charge-money f-20" >
                      <span class="f-14 ml-15">元</span>
                    </div>
                    <!-- 为了固定表格宽度 -->
                    <div style="width: 617px;"></div>
                  </td>
                </tr>
                <tr>
                  <td align="right"><span class="f-14">网上银行</span></td>
                  <td>
                    <div class="inp-box clearfix">
                      <div class="bank-inp">
                        <span class="f-14 cl-153">请选择银行卡</span>
                      </div>
                      <div class="bank-trigger">
                        <span class="trigger-text cl-blue">收 起</span>
                        <span class="trigger-arrow ml-10"></span>
                      </div>
                      <span class="limits-trigger inp-fl-hint">查看限额</span>
                    </div>
                <tr>
                  <td></td>
                  <td>
                    <div class="bank-list" >
                      <p class="f-14 cl-153">网银支付<span class="ml-10">需要开通网上银行</span></p>
                      <table class="bank-list-table mt-10" border="1" cellspacing="0">
                        <tr>
                          <td>
                            <div class="bank-img ICBC" data-bank="ICBC"></div>
                          <td>
                            <div class="bank-img ABC" data-bank="ABC"></div>
                          <td>
                            <div class="bank-img CCB" data-bank="CCB"></div>
                          <td>
                            <div class="bank-img BOCO" data-bank="BOCO"></div>
                        <tr>
                          <td>
                            <div class="bank-img CIB" data-bank="CIB"></div>
                          <td>
                            <div class="bank-img CMBC" data-bank="CMBC"></div>
                          <td>
                            <div class="bank-img CEB" data-bank="CEB"></div>
                          <td>
                            <div class="bank-img BOC" data-bank="BOC"></div>
                        <tr>
                          <td>
                            <div class="bank-img ECITIC" data-bank="ECITIC"></div>
                          <td>
                            <div class="bank-img GDB" data-bank="GDB"></div>
                          <td>
                            <div class="bank-img HXB" data-bank="HXB"></div>
                          <td>
                            <div class="bank-img CMBCHINA" data-bank="CMBCHINA"></div>
                        <tr>
                          <td>
                            <div class="bank-img POST" data-bank="POST"></div>
                      </table>
                    </div>
                  </td>
                </tr>
                <tr style="display: none;">
                  <td></td>
                  <td>
                    <table class="limits-table" cellspacing="0">
                      <tr>
                        <th>银行卡种类</th>
                        <th>单笔限额（元）</th>
                        <th>每日限额（元）</th>
                        <th>需要满足条件</th>
                      </tr>
                      <tr>
                        <td rowspan="3">借记卡</td>
                        <td>1万</td>
                        <td>1万</td>
                        <td>手机短信客户</td>
                      </tr>
                      <tr>
                        <td>1万</td>
                        <td>1万</td>
                        <td>电子令牌客户</td>
                      </tr>
                      <tr>
                        <td>1万</td>
                        <td>1万</td>
                        <td>UKEY+短信客户</td>
                      </tr>
                    </table>
                  </td>
                </tr>
                <tr>
                  <td></td>
                  <td><button type="submit" class="btn-normal w150">立即充值</button></td>
                </tr>
              </table>
            </div>
            <!-- 网银支付 结束 -->

            <!-- 柜台/ATM汇款 -->
            <div class="charge-box mt-30">
              <!-- 过程提示 -->
              <div class="charge-steps mt-30 clearfix">
                <ul>
                  <li class="pull-left ml-20"><span class="steps-text f-14 pull-left">充值流程：</span>
                  <li class="curr pull-left"><span class="steps-text f-14 pull-left">1.选择银行并填写汇款金额</span><span class="icon-arrow ml-10 mr-10 pull-left"></span>
                  <li class="pull-left"><span class="steps-text f-14 pull-left">2.牢记银行卡信息并汇款或网转</span><span class="icon-arrow ml-10 mr-10 pull-left"></span>
                  <li class="pull-left"><span class="steps-text f-14 pull-left ">3.汇款后联系客服确认充值</span>
                </ul>
              </div>
              <!-- 过程提示 结束 -->

              <table id="step01" class="form-table mt-15">
                <tr>
                  <td align="right"><span class="f-14">网上银行</span>
                  <td>
                    <div class="inp-box clearfix">
                      <div class="bank-inp">
                        <span class="f-14 cl-153">请选择银行卡</span>
                      </div>
                      <div class="bank-trigger">
                        <span class="trigger-text cl-blue">收 起</span>
                        <span class="trigger-arrow ml-10"></span>
                      </div>
                    </div>
                <tr>
                  <td>
                  <td>
                    <div class="bank-list w440" >
                      <table class="bank-list-table mt-10" border="1" cellspacing="0">
                        <tr>
                          <td>
                            <div class="bank-img ICBC" data-bank="ICBC"></div>
                          <td>
                            <div class="bank-img ABC" data-bank="ABC"></div>
                          <td>
                            <div class="bank-img CCB" data-bank="CCB"></div>
                      </table>
                    </div>
                <tr>
                  <td width="20%" align="right"><span class="f-14">充值金额</span></td>
                  <td width="">
                    <div class="inp-box">
                      <input type="text" class="charge-money f-20" >
                      <span class="f-14 ml-15">元</span>
                    </div>
                    <!-- 为了固定表格宽度 -->
                    <!--<div style="width: 617px;"></div>-->
                <tr>
                  <td>
                  <td><button type="submit" class="btn-normal w150 to-next">下一步</button>
              </table>

              <table id="step02" width="100%" cellspacing="20" style="display: none;">
                <tr>
                  <td width="20%" align="right"><span class="f-14">充值金额</span>
                  <td><span class="charge-money f-18">1000</span><span class="ml-5">元</span>
                  <td>
                <tr><td><td colspan="2"><div class="brd-dotted"></div>
                <tr>
                  <td align="right"><span class="f-14">汇款银行</span>
                  <td>
                    <div class="bank-img-wrap w150 pull-left">
                      <div class="bank-img CCB"></div>
                    </div>
                  <td>
                    <table class="bank-info-table" cellspacing="10">
                      <tr>
                        <td><span class="f-14 cl-153">对公帐号</span>
                        <td><span class="account-number f-14 f-bold">3300 1619 8810 5955 8888</span>
                      <tr>
                        <td><span class="f-14 cl-153">开</span><span class="f-14 cl-153 ml-5">户</span><span class="f-14 cl-153 ml-5">行</span>
                        <td><span class="origin-bank f-14 f-bold">建设银行杭州钱塘支行</span>
                      <tr>
                        <td><span class="f-14 cl-153">户</span><span class="f-14 cl-153 ml-5"></span><span class="f-14 cl-153 ml-5">名</span>
                        <td><span class="account-name f-14 f-bold">杭州袋狮信息技术有限公司</span>
                    </table>
                <tr><td><td colspan="2"><div class="brd-dotted"></div>
                <tr>
                  <td>
                  <td colspan="2">
                    <button type="submit" class="msg-send-btn apply-btn w150 ">发送到手机</button>
                    <div class="msg-sended apply-btn-disable w150" style="display: none;">已发送</div>
                <tr>
                  <td>
                  <td colspan="2">
                    <p class="f-14 f-bold">转账完成，您可拨打客服热线<span class="f-14 cl-deepred ml-5 mr-5">400-638-0808</span>确认到账进度</p>
                    <p class="f-song cl-153 mt-10">8:30-18:30 （30分钟内到账) 18:30以后（次日9点前到账）</p>
              </table>

            </div>
            <!-- 柜台/ATM汇款 结束 -->

            <!-- 支付宝 -->
            <div class="charge-box ml-40 mt-40" style="display: none;">
              <table class="form-table" cellspacing="20">
                <tr>
                  <td align="right"><span class="f-14">充值金额</span></td>
                  <td>
                    <div class="inp-box">
                      <input type="text" class="f-20 charge-money" >
                      <span class="f-14 mr-15">元</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td></td>
                  <td>
                    <div class="zfb-hint">
                      <span class="zfb-logo pull-left"></span>
                      <span class="cl-deepred pull-left ml-10">支付宝转账（手机转账0手续费）</span>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td></td>
                  <td><button type="submit" class="btn-normal w150">立即充值</button></td>
                </tr>
              </table>
            </div>
            <!-- 支付宝 结束 -->
          </div>
        </div>
        <!-- 用户的操盘界面 结束 -->
      </div>
      <!-- 内容结束 -->
    </div>
  </div>

  <!-- footer -->
  <div class="footer clearfix">
    <div class="inner">
      <div class="clearfix">
        <div class="f-left">
          <ul class="links clearfix mt-15">
            <li class="item"><a href="#">关于我们</a><span class="cl-153 ml-15 mr-15">|</span></li>
            <li class="item"><a href="#">安全保障</a><span class="cl-153 ml-15 mr-15">|</span></li>
            <li class="item"><a href="#">新手指引</a><span class="cl-153 ml-15 mr-15">|</span></li>
            <li class="item"><a href="#">帮助中心</a><span class="cl-153 ml-15 mr-15">|</span></li>
            <li class="item"><a href="#">招贤纳士</a><span class="cl-153 ml-15 mr-15">|</span></li>
            <li class="item"><a href="#">联系我们</a></li>
          </ul><!-- /.links -->
          <div class="contact clearfix mt-30">
            <p class="pull-left">
              <i class="ic ic-call"></i>
              <span class="f-24 cl-182">400-638-0808</span>
              <span class="f-12">（服务时间： 8:30 - 21:00）</span>
            </p>
            <a class="link-qq pull-left ml-20" href="#"></a>
            <!--<a class="link-weixin pull-left ml-10" href="#"></a>-->
            <a class="link-weibo pull-left ml-10" href="#"></a>
          </div>

        </div><!-- /.f-left -->

        <div class="f-right">
          <div class="pull-left">
            <div>
              <img src="images/qrcode-130X130.jpg" width="100" alt=""/>
            </div>
          </div>
          <div class="pull-left service ml-10">
            <p class="mt-15">下载手机发财金</p>
            <p class="mt-5">扫一扫，随时随地理财</p>
            <div class="mt-10 clearfix">
              <a class="btn-sp-gray pull-left" href="#"><span class="ic-ios"></span>iPhone</a>
              <a class="btn-sp-gray pull-left ml-10" href="#"><span class="ic-android"></span>Android</a>
            </div>
          </div>
        </div><!-- /.f-right -->
      </div><!-- /.clearfix -->
      <div class="clearfix others">
        <div class="pull-left">
          <a href="javascript:;" class="" target="_blank">
            <img width="93" height="33" border="0" src="images/certificate/faith1.png" alt="">
          </a>
          <a class="ml-20" href="javascript:;" target="_blank">
            <img width="93" height="33" border="0" src="images/certificate/360safe.png" alt="360网站完全认证"/>
          </a>
          <a class="ml-20" href="javascript:;" target="_blank">
            <img width="91" height="33" border="0" src="images/certificate/norton1.png" alt="">
          </a>
          <a class="ml-20" href="javascript:;" target="_blank">
            <img width="91" height="33" border="0" src="images/certificate/hy_124x47.png" alt="">
          </a>
        </div>
        <p class="copyright pull-right">©2015 杭州袋狮信息技术有限公司<span class="ml-20 mr-20">|</span><a href="#">备案号：浙ICP备14037891</a></p>
      </div>
    </div>
  </div><!-- /.footer -->
<script src="js/jquery-1.11.2.min.js"></script>
<script src="js/app.js"></script>
<script>
$(function(){
  //用户中心 充值
  $.switchTabs(".switch-title .switch-block", ".charge-box", "curr");

  /* 隐藏/显示 bank-list */
  var flag = false;
  $(".bank-trigger").click(function(){
    var $table = $(this).parents(".form-table");

    $(this).find(".trigger-arrow").toggleClass("down");
    $table.find(".bank-list").parents("tr").toggle();
    if (flag) {
      $table.find(".trigger-text").html("收 起");
      flag = false;
    } else {
      $table.find(".trigger-text").html("更换银行卡");
      flag = true;
    }
  });

  /* 隐藏/显示 limits-table */
  $(".limits-trigger").click(function(){
    $(".limits-table").parents("tr").toggle();
  });

  /* 银行选择 */
  $(".bank-list .bank-img").click(function(){
    var bankClass = $(this).attr("class");
    var bankName = $(this).data("bank");
    var $table = $(this).parents(".form-table");
//        var bankName = $(this).attr("class").split(" ")[1];
//        console.info("bankName[1]: " + bankName[1]);
    $table.find(".bank-inp").html("<div class='" + bankClass + "' data-bank='"+ bankName +"'></div>")
    $table.find(".trigger-arrow").toggleClass("down");
    $(this).parents(".bank-list").parents("tr").toggle();
    if (flag) {
      $(this).parents(".form-table").find(".trigger-text").html("收 起");
      flag = false;
    } else {
      $(this).parents(".form-table").find(".trigger-text").html("更换银行卡");
      flag = true;
    }
  });

  /* 金额验证 */
  $(".charge-money").keyup(function(){
    var value = $(this).val();
    $(this).val(value.replace(/[^\d.]/g,""));
  });

  /* 柜台/ATM汇款 发送短信 */
  $(".msg-send-btn").click(function(){
    $(this).hide();
    $(this).siblings(".msg-sended").show();
  });

  /* 该json应该从服务器中获取 */
  var banks = {
    "CCB" : {
      "account-number" : "3300 1619 8810 5955 8888",
      "origin-bank" : "建设银行杭州钱塘支行",
      "account-name": "杭州袋狮信息技术有限公司"
    },
    "ABC":{
      "account-number" : "1902 6101 0400 0004 0",
      "origin-bank" : "农业银行杭州市民街支行",
      "account-name": "杭州袋狮信息技术有限公司"
    },
    "ICBC":{
      "account-number" : "1202 2035 1990 0004 142",
      "origin-bank" : "工商银行杭州新城支行",
      "account-name": "杭州袋狮信息技术有限公司"
    }
  };

  /* 柜台/ATM 流程 */
  $("#step01 .to-next").click(function () {
    var money = $("#step01 .charge-money").val();
    var $bankEl = $("#step01 .bank-inp .bank-img");
    var bankClass = $bankEl.attr("class");
    var bankName = $bankEl.data("bank");

    if(!bankClass) {
      alert("请选择汇款帐号！");
      //TODO: pop a warning window
      return;
    }
    if(!money) {
      alert("请输入充值金额！");
      //TODO: pop a warning window
      return;
    }

    $("#step02 .charge-money").html(money);
    //TODO: get json 'banks' by ajax from the server
    $("#step02 .bank-img-wrap").html("<div class='" + bankClass + "' data-bank='"+ bankName +"'></div>");
    var $bankInfoTable = $("#step02 .bank-info-table");
    $bankInfoTable.find(".account-number").html(banks[bankName]["account-number"]);
    $bankInfoTable.find(".origin-bank").html(banks[bankName]["origin-bank"]);
    $bankInfoTable.find(".account-name").html(banks[bankName]["account-name"]);
    $(".charge-steps li").removeClass("curr").eq(2).addClass("curr");
    $("#step01").hide();
    $("#step02").show();
  });

  //订单支付
  $.switchTabs(".switch-title .switch-blocky", ".pay-box", "curr");
});
</script>
</body>
</html>